"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/webRTC/socket";
exports.ids = ["pages/api/webRTC/socket"];
exports.modules = {

/***/ "socket.io":
/*!****************************!*\
  !*** external "socket.io" ***!
  \****************************/
/***/ ((module) => {

module.exports = import("socket.io");;

/***/ }),

/***/ "(api)/./pages/api/webRTC/socket.tsx":
/*!*************************************!*\
  !*** ./pages/api/webRTC/socket.tsx ***!
  \*************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var socket_io__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! socket.io */ \"socket.io\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([socket_io__WEBPACK_IMPORTED_MODULE_0__]);\nsocket_io__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// let createdRooms: string[] = [];\nconst SocketHandler = (_, res)=>{\n    if (res.socket.server.io) {\n        console.log(\"Socket is already attached\");\n        return res.end();\n    }\n    const io = new socket_io__WEBPACK_IMPORTED_MODULE_0__.Server(res.socket.server);\n    res.socket.server.io = io;\n    function publicRooms() {\n        const { sockets: { adapter: { sids , rooms  }  }  } = io;\n        const publicRooms = [];\n        rooms.forEach((_, key)=>{\n            if (sids.get(key) === undefined) {\n                publicRooms.push(key);\n            }\n        });\n        return publicRooms;\n    }\n    io.on(\"connection\", (socket)=>{\n        console.log(`[User Connected] : ${socket.id}`);\n        //peer가 room join 버튼을 눌렀을 경우 클라이언트에서 join이 트리거 되어 서버에 전달\n        socket.on(\"join\", (roomName)=>{\n            console.log(\"[join]\");\n            const { rooms  } = io.sockets.adapter;\n            const room = rooms.get(roomName);\n            //방이 없는 경우\n            if (room === undefined) {\n                console.log(\"[emit create]\");\n                socket.join(roomName);\n                socket.emit(\"created\");\n            } else if (room.size === 1) {\n                //방에 한 명만 있을 경우\n                console.log(\"[emit joined]\");\n                socket.join(roomName);\n                socket.emit(\"joined\");\n            } else {\n                //방에 두명인 경우 (full)\n                console.log(\"[emit full]\");\n                socket.emit(\"full\");\n            }\n            console.log(\"[room info] : \", rooms);\n        });\n        //방에 참여한 사람이 connection 준비가 되면 ready가 트리거 됨\n        socket.on(\"ready\", (roomName)=>{\n            console.log(\"[emit ready]\");\n            socket.broadcast.to(roomName).emit(\"ready\");\n        });\n        //서버가 room의 peer로부터 \"icecandidate\"를 받을 때 트리거\n        socket.on(\"ice-candidate\", (candidate, roomName)=>{\n            console.log(\"[emit ice-candidate]\");\n            socket.broadcast.to(roomName).emit(\"ice-candidate\", candidate); // room에 있는 다른 peer에게 \"candidate\" emit\n        });\n        //서버가 room에 있는 peer로부터 \"offer\"를 받을 때 트리거\n        socket.on(\"offer\", (offer, roomName)=>{\n            console.log(\"[emit offer]\");\n            socket.broadcast.to(roomName).emit(\"offer\", offer); // room에 있는 다른 peer에게 \"offer\" emit\n        });\n        //서버가 room에 있는 peer로부터 \"answer\"를 받을 때 트리거\n        socket.on(\"answer\", (answer, roomName)=>{\n            console.log(\"[emit answer]\");\n            socket.broadcast.to(roomName).emit(\"answer\", answer); // room에 있는 다른 peer에게 \"answer\" emit\n        });\n        //서버가 room에 있는 peer로부터 \"leave\"를 받을 때 트리거\n        socket.on(\"leave\", (roomName)=>{\n            console.log(\"[emit leave]\", roomName);\n            socket.leave(roomName);\n            socket.broadcast.to(roomName).emit(\"leave\"); // room에 있는 다른 peer에게 \"leave\" emit\n        });\n        socket.on(\"room-list\", ()=>{\n            socket.emit(\"room-list\", publicRooms());\n            console.log(\"[room-list]\", publicRooms());\n        });\n        socket.on(\"request-create-room\", (roomName, done)=>{\n            console.log(\"[request-create-room]\", roomName);\n            const exists = publicRooms().find((createdRoom)=>createdRoom === roomName);\n            if (exists) {\n                console.log(\"[emit request-create-room : false]\");\n                done({\n                    success: false,\n                    payload: `${roomName}라는 방이 이미 존재합니다.`\n                });\n            } else {\n                console.log(\"[emit request-create-room : true]\");\n                done({\n                    success: true,\n                    payload: roomName\n                });\n            }\n        });\n        socket.on(\"request-join-room\", (roomName, done)=>{\n            console.log(\"[request-join-room]\", roomName);\n            const { rooms  } = io.sockets.adapter;\n            const room = rooms.get(roomName);\n            if (room === undefined || room.size >= 2) {\n                console.log(\"[emit request-join-room : false]\");\n                done({\n                    success: false,\n                    payload: `방이 없거나 가득 찼습니다.`\n                });\n            } else {\n                console.log(\"[emit request-join-room : true]\");\n                done({\n                    success: true,\n                    payload: roomName\n                });\n            }\n        });\n    });\n    return res.end();\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (SocketHandler);\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q1p5QixLQUFLO29CQUFFSSxTQUFTLEtBQUs7b0JBQUVDLFNBQVMsQ0FBQyxlQUFlLENBQUM7Z0JBQUM7WUFDcEQsT0FBTztnQkFDTC9CLFFBQVFDLEdBQUcsQ0FBQztnQkFDWnlCLEtBQUs7b0JBQUVJLFNBQVMsSUFBSTtvQkFBRUMsU0FBU2hCO2dCQUFTO1lBQzFDLENBQUM7UUFDSDtJQUNGO0lBQ0EsT0FBT25CLElBQUlNLEdBQUc7QUFDaEI7QUFFQSxpRUFBZVIsYUFBYUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL2NhbnZhcy1jb21wb25lbnQvLi9wYWdlcy9hcGkvd2ViUlRDL3NvY2tldC50c3g/MDI3OSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xuaW1wb3J0IHsgU2VydmVyIGFzIE5ldFNlcnZlciwgU29ja2V0IH0gZnJvbSBcIm5ldFwiO1xuaW1wb3J0IHsgU2VydmVyIGFzIFNvY2tldElPU2VydmVyIH0gZnJvbSBcInNvY2tldC5pb1wiO1xuXG50eXBlIE5leHRBcGlSZXNwb25zZVNlcnZlcklPID0gTmV4dEFwaVJlc3BvbnNlICYge1xuICBzb2NrZXQ6IFNvY2tldCAmIHtcbiAgICBzZXJ2ZXI6IE5ldFNlcnZlciAmIHtcbiAgICAgIGlvOiBTb2NrZXRJT1NlcnZlcjtcbiAgICB9O1xuICB9O1xufTtcblxuLy8gbGV0IGNyZWF0ZWRSb29tczogc3RyaW5nW10gPSBbXTtcbmNvbnN0IFNvY2tldEhhbmRsZXIgPSAoXywgcmVzOiBOZXh0QXBpUmVzcG9uc2VTZXJ2ZXJJTyk6IGFueSA9PiB7XG4gIGlmIChyZXMuc29ja2V0LnNlcnZlci5pbykge1xuICAgIGNvbnNvbGUubG9nKFwiU29ja2V0IGlzIGFscmVhZHkgYXR0YWNoZWRcIik7XG4gICAgcmV0dXJuIHJlcy5lbmQoKTtcbiAgfVxuXG4gIGNvbnN0IGlvID0gbmV3IFNvY2tldElPU2VydmVyKHJlcy5zb2NrZXQuc2VydmVyIGFzIGFueSk7XG4gIHJlcy5zb2NrZXQuc2VydmVyLmlvID0gaW87XG5cbiAgZnVuY3Rpb24gcHVibGljUm9vbXMoKSB7XG4gICAgY29uc3Qge1xuICAgICAgc29ja2V0czoge1xuICAgICAgICBhZGFwdGVyOiB7IHNpZHMsIHJvb21zIH0sXG4gICAgICB9LFxuICAgIH0gPSBpbztcbiAgICBjb25zdCBwdWJsaWNSb29tczogc3RyaW5nW10gPSBbXTtcbiAgICByb29tcy5mb3JFYWNoKChfLCBrZXkpID0+IHtcbiAgICAgIGlmIChzaWRzLmdldChrZXkpID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcHVibGljUm9vbXMucHVzaChrZXkpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBwdWJsaWNSb29tcztcbiAgfVxuXG4gIGlvLm9uKFwiY29ubmVjdGlvblwiLCAoc29ja2V0KSA9PiB7XG4gICAgY29uc29sZS5sb2coYFtVc2VyIENvbm5lY3RlZF0gOiAke3NvY2tldC5pZH1gKTtcblxuICAgIC8vcGVlcuqwgCByb29tIGpvaW4g67KE7Yq87J2EIOuIjOuggOydhCDqsr3smrAg7YG065287J207Ja47Yq47JeQ7IScIGpvaW7snbQg7Yq466as6rGwIOuQmOyWtCDshJzrsoTsl5Ag7KCE64usXG4gICAgc29ja2V0Lm9uKFwiam9pblwiLCAocm9vbU5hbWUpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiW2pvaW5dXCIpO1xuICAgICAgY29uc3QgeyByb29tcyB9ID0gaW8uc29ja2V0cy5hZGFwdGVyO1xuICAgICAgY29uc3Qgcm9vbSA9IHJvb21zLmdldChyb29tTmFtZSk7XG4gICAgICAvL+uwqeydtCDsl4bripQg6rK97JqwXG4gICAgICBpZiAocm9vbSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiW2VtaXQgY3JlYXRlXVwiKTtcbiAgICAgICAgc29ja2V0LmpvaW4ocm9vbU5hbWUpO1xuICAgICAgICBzb2NrZXQuZW1pdChcImNyZWF0ZWRcIik7XG4gICAgICB9IGVsc2UgaWYgKHJvb20uc2l6ZSA9PT0gMSkge1xuICAgICAgICAvL+uwqeyXkCDtlZwg66qF66eMIOyeiOydhCDqsr3smrBcbiAgICAgICAgY29uc29sZS5sb2coXCJbZW1pdCBqb2luZWRdXCIpO1xuICAgICAgICBzb2NrZXQuam9pbihyb29tTmFtZSk7XG4gICAgICAgIHNvY2tldC5lbWl0KFwiam9pbmVkXCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy/rsKnsl5Ag65GQ66qF7J24IOqyveyasCAoZnVsbClcbiAgICAgICAgY29uc29sZS5sb2coXCJbZW1pdCBmdWxsXVwiKTtcbiAgICAgICAgc29ja2V0LmVtaXQoXCJmdWxsXCIpO1xuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coXCJbcm9vbSBpbmZvXSA6IFwiLCByb29tcyk7XG4gICAgfSk7XG4gICAgLy/rsKnsl5Ag7LC47Jes7ZWcIOyCrOuejOydtCBjb25uZWN0aW9uIOykgOu5hOqwgCDrkJjrqbQgcmVhZHnqsIAg7Yq466as6rGwIOuQqFxuICAgIHNvY2tldC5vbihcInJlYWR5XCIsIChyb29tTmFtZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJbZW1pdCByZWFkeV1cIik7XG4gICAgICBzb2NrZXQuYnJvYWRjYXN0LnRvKHJvb21OYW1lKS5lbWl0KFwicmVhZHlcIik7XG4gICAgfSk7XG4gICAgLy/shJzrsoTqsIAgcm9vbeydmCBwZWVy66Gc67aA7YSwIFwiaWNlY2FuZGlkYXRlXCLrpbwg67Cb7J2EIOuVjCDtirjrpqzqsbBcbiAgICBzb2NrZXQub24oXCJpY2UtY2FuZGlkYXRlXCIsIChjYW5kaWRhdGUsIHJvb21OYW1lKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIltlbWl0IGljZS1jYW5kaWRhdGVdXCIpO1xuICAgICAgc29ja2V0LmJyb2FkY2FzdC50byhyb29tTmFtZSkuZW1pdChcImljZS1jYW5kaWRhdGVcIiwgY2FuZGlkYXRlKTsgLy8gcm9vbeyXkCDsnojripQg64uk66W4IHBlZXLsl5DqsowgXCJjYW5kaWRhdGVcIiBlbWl0XG4gICAgfSk7XG4gICAgLy/shJzrsoTqsIAgcm9vbeyXkCDsnojripQgcGVlcuuhnOu2gO2EsCBcIm9mZmVyXCLrpbwg67Cb7J2EIOuVjCDtirjrpqzqsbBcbiAgICBzb2NrZXQub24oXCJvZmZlclwiLCAob2ZmZXIsIHJvb21OYW1lKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIltlbWl0IG9mZmVyXVwiKTtcbiAgICAgIHNvY2tldC5icm9hZGNhc3QudG8ocm9vbU5hbWUpLmVtaXQoXCJvZmZlclwiLCBvZmZlcik7IC8vIHJvb23sl5Ag7J6I64qUIOuLpOuluCBwZWVy7JeQ6rKMIFwib2ZmZXJcIiBlbWl0XG4gICAgfSk7XG4gICAgLy/shJzrsoTqsIAgcm9vbeyXkCDsnojripQgcGVlcuuhnOu2gO2EsCBcImFuc3dlclwi66W8IOuwm+ydhCDrlYwg7Yq466as6rGwXG4gICAgc29ja2V0Lm9uKFwiYW5zd2VyXCIsIChhbnN3ZXIsIHJvb21OYW1lKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIltlbWl0IGFuc3dlcl1cIik7XG4gICAgICBzb2NrZXQuYnJvYWRjYXN0LnRvKHJvb21OYW1lKS5lbWl0KFwiYW5zd2VyXCIsIGFuc3dlcik7IC8vIHJvb23sl5Ag7J6I64qUIOuLpOuluCBwZWVy7JeQ6rKMIFwiYW5zd2VyXCIgZW1pdFxuICAgIH0pO1xuICAgIC8v7ISc67KE6rCAIHJvb23sl5Ag7J6I64qUIHBlZXLroZzrtoDthLAgXCJsZWF2ZVwi66W8IOuwm+ydhCDrlYwg7Yq466as6rGwXG4gICAgc29ja2V0Lm9uKFwibGVhdmVcIiwgKHJvb21OYW1lKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIltlbWl0IGxlYXZlXVwiLCByb29tTmFtZSk7XG4gICAgICBzb2NrZXQubGVhdmUocm9vbU5hbWUpO1xuXG4gICAgICBzb2NrZXQuYnJvYWRjYXN0LnRvKHJvb21OYW1lKS5lbWl0KFwibGVhdmVcIik7IC8vIHJvb23sl5Ag7J6I64qUIOuLpOuluCBwZWVy7JeQ6rKMIFwibGVhdmVcIiBlbWl0XG4gICAgfSk7XG5cbiAgICBzb2NrZXQub24oXCJyb29tLWxpc3RcIiwgKCkgPT4ge1xuICAgICAgc29ja2V0LmVtaXQoXCJyb29tLWxpc3RcIiwgcHVibGljUm9vbXMoKSk7XG4gICAgICBjb25zb2xlLmxvZyhcIltyb29tLWxpc3RdXCIsIHB1YmxpY1Jvb21zKCkpO1xuICAgIH0pO1xuXG4gICAgc29ja2V0Lm9uKFwicmVxdWVzdC1jcmVhdGUtcm9vbVwiLCAocm9vbU5hbWU6IHN0cmluZywgZG9uZSkgPT4ge1xuICAgICAgY29uc29sZS5sb2coXCJbcmVxdWVzdC1jcmVhdGUtcm9vbV1cIiwgcm9vbU5hbWUpO1xuICAgICAgY29uc3QgZXhpc3RzID0gcHVibGljUm9vbXMoKS5maW5kKChjcmVhdGVkUm9vbSkgPT4gY3JlYXRlZFJvb20gPT09IHJvb21OYW1lKTtcbiAgICAgIGlmIChleGlzdHMpIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbZW1pdCByZXF1ZXN0LWNyZWF0ZS1yb29tIDogZmFsc2VdXCIpO1xuICAgICAgICBkb25lKHsgc3VjY2VzczogZmFsc2UsIHBheWxvYWQ6IGAke3Jvb21OYW1lfeudvOuKlCDrsKnsnbQg7J2066+4IOyhtOyerO2VqeuLiOuLpC5gIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbZW1pdCByZXF1ZXN0LWNyZWF0ZS1yb29tIDogdHJ1ZV1cIik7XG4gICAgICAgIGRvbmUoeyBzdWNjZXNzOiB0cnVlLCBwYXlsb2FkOiByb29tTmFtZSB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHNvY2tldC5vbihcInJlcXVlc3Qtam9pbi1yb29tXCIsIChyb29tTmFtZTogc3RyaW5nLCBkb25lKSA9PiB7XG4gICAgICBjb25zb2xlLmxvZyhcIltyZXF1ZXN0LWpvaW4tcm9vbV1cIiwgcm9vbU5hbWUpO1xuXG4gICAgICBjb25zdCB7IHJvb21zIH0gPSBpby5zb2NrZXRzLmFkYXB0ZXI7XG4gICAgICBjb25zdCByb29tID0gcm9vbXMuZ2V0KHJvb21OYW1lKTtcblxuICAgICAgaWYgKHJvb20gPT09IHVuZGVmaW5lZCB8fCByb29tLnNpemUgPj0gMikge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltlbWl0IHJlcXVlc3Qtam9pbi1yb29tIDogZmFsc2VdXCIpO1xuICAgICAgICBkb25lKHsgc3VjY2VzczogZmFsc2UsIHBheWxvYWQ6IGDrsKnsnbQg7JeG6rGw64KYIOqwgOuTnSDssLzsirXri4jri6QuYCB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiW2VtaXQgcmVxdWVzdC1qb2luLXJvb20gOiB0cnVlXVwiKTtcbiAgICAgICAgZG9uZSh7IHN1Y2Nlc3M6IHRydWUsIHBheWxvYWQ6IHJvb21OYW1lIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIHJlcy5lbmQoKTtcbn07XG5cbmV4cG9ydCBkZWZhdWx0IFNvY2tldEhhbmRsZXI7XG4iXSwibmFtZXMiOlsiU2VydmVyIiwiU29ja2V0SU9TZXJ2ZXIiLCJTb2NrZXRIYW5kbGVyIiwiXyIsInJlcyIsInNvY2tldCIsInNlcnZlciIsImlvIiwiY29uc29sZSIsImxvZyIsImVuZCIsInB1YmxpY1Jvb21zIiwic29ja2V0cyIsImFkYXB0ZXIiLCJzaWRzIiwicm9vbXMiLCJmb3JFYWNoIiwia2V5IiwiZ2V0IiwidW5kZWZpbmVkIiwicHVzaCIsIm9uIiwiaWQiLCJyb29tTmFtZSIsInJvb20iLCJqb2luIiwiZW1pdCIsInNpemUiLCJicm9hZGNhc3QiLCJ0byIsImNhbmRpZGF0ZSIsIm9mZmVyIiwiYW5zd2VyIiwibGVhdmUiLCJkb25lIiwiZXhpc3RzIiwiZmluZCIsImNyZWF0ZWRSb29tIiwic3VjY2VzcyIsInBheWxvYWQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/webRTC/socket.tsx\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("(api)/./pages/api/webRTC/socket.tsx"));
module.exports = __webpack_exports__;

})();