"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["components_Game_Segment_tsx"],{

/***/ "./components/Game/CloneVideo.tsx":
/*!****************************************!*\
  !*** ./components/Game/CloneVideo.tsx ***!
  \****************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ CloneVideo; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\nvar _s = $RefreshSig$();\n\nfunction CloneVideo(param) {\n    let { id , videoId , segmentState  } = param;\n    _s();\n    var cloneRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    var ctx = null;\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!cloneRef.current) return;\n        ctx = cloneRef.current.getContext(\"2d\");\n    }, [\n        cloneRef\n    ]);\n    const video = document.getElementById(videoId);\n    const draw = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(()=>{\n        ctx.drawImage(video, 640 / 3 * (id % 3), 160 * ((id - id % 3) / 3), 640 / 3, 160, 0, 0, 640, 480);\n        setTimeout(function() {\n            draw();\n        }, 42);\n    }, [\n        video\n    ]);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (!video) return;\n        if (!ctx) return;\n        draw();\n    }, [\n        video\n    ]);\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"canvas\", {\n            id: \"\".concat(id),\n            width: \"640\",\n            height: \"480\",\n            ref: cloneRef\n        }, void 0, false, {\n            fileName: \"/Users/hoyeon/DP_IceBreaking/components/Game/CloneVideo.tsx\",\n            lineNumber: 36,\n            columnNumber: 13\n        }, this)\n    }, void 0, false);\n}\n_s(CloneVideo, \"E1HjyBSp3yywQM7Qf++FEkuCoCs=\");\n_c = CloneVideo;\nvar _c;\n$RefreshReg$(_c, \"CloneVideo\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9jb21wb25lbnRzL0dhbWUvQ2xvbmVWaWRlby50c3guanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7OztBQUF1RDtBQU94QyxTQUFTRyxXQUFXLEtBQTBDLEVBQUU7UUFBNUMsRUFBRUMsR0FBRSxFQUFFQyxRQUFPLEVBQUVDLGFBQVksRUFBZSxHQUExQzs7SUFDL0IsSUFBSUMsV0FBV0wsNkNBQU1BLENBQW9CLElBQUk7SUFDN0MsSUFBSU0sTUFBdUMsSUFBSTtJQUMvQ1AsZ0RBQVNBLENBQUMsSUFBTTtRQUNaLElBQUksQ0FBQ00sU0FBU0UsT0FBTyxFQUFFO1FBQ3ZCRCxNQUFNRCxTQUFTRSxPQUFPLENBQUNDLFVBQVUsQ0FBQztJQUN0QyxHQUFHO1FBQUNIO0tBQVM7SUFFYixNQUFNSSxRQUFRQyxTQUFTQyxjQUFjLENBQUNSO0lBQ3RDLE1BQU1TLE9BQU9kLGtEQUFXQSxDQUFDLElBQU07UUFFM0JRLElBQUtPLFNBQVMsQ0FBQ0osT0FBTyxNQUFNLElBQUtQLENBQUFBLEtBQUssSUFBSSxNQUFPLEVBQUNBLEtBQUtBLEtBQUssS0FBSyxJQUFJLE1BQU0sR0FBRyxLQUFLLEdBQUcsR0FBRyxLQUFLO1FBQzlGWSxXQUFXLFdBQVk7WUFDbkJGO1FBQ0osR0FBRztJQUVQLEdBQUc7UUFBQ0g7S0FBTTtJQUVWVixnREFBU0EsQ0FBQyxJQUFNO1FBQ1osSUFBSSxDQUFDVSxPQUFPO1FBQ1osSUFBSSxDQUFDSCxLQUFLO1FBQ1ZNO0lBQ0osR0FBRztRQUFDSDtLQUFNO0lBR1YscUJBQ0k7a0JBRUksNEVBQUNNO1lBQU9iLElBQUksR0FBTSxPQUFIQTtZQUFNYyxPQUFNO1lBQU1DLFFBQU87WUFBTUMsS0FBS2I7Ozs7Ozs7QUFJL0QsQ0FBQztHQWhDdUJKO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvR2FtZS9DbG9uZVZpZGVvLnRzeD9kNWQ2Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHVzZUNhbGxiYWNrLCB1c2VFZmZlY3QsIHVzZVJlZiB9IGZyb20gXCJyZWFjdFwiO1xuXG5pbnRlcmZhY2Ugc2VnbWVudERhdGEge1xuICAgIGlkOiBudW1iZXI7XG4gICAgdmlkZW9JZDogc3RyaW5nO1xuICAgIHNlZ21lbnRTdGF0ZTogc3RyaW5nIHwgdW5kZWZpbmVkO1xufVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ2xvbmVWaWRlbyh7IGlkLCB2aWRlb0lkLCBzZWdtZW50U3RhdGUgfTogc2VnbWVudERhdGEpIHtcbiAgICB2YXIgY2xvbmVSZWYgPSB1c2VSZWY8SFRNTENhbnZhc0VsZW1lbnQ+KG51bGwpO1xuICAgIHZhciBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGwgPSBudWxsO1xuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghY2xvbmVSZWYuY3VycmVudCkgcmV0dXJuXG4gICAgICAgIGN0eCA9IGNsb25lUmVmLmN1cnJlbnQuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICB9LCBbY2xvbmVSZWZdKVxuXG4gICAgY29uc3QgdmlkZW8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2aWRlb0lkKSBhcyBIVE1MVmlkZW9FbGVtZW50O1xuICAgIGNvbnN0IGRyYXcgPSB1c2VDYWxsYmFjaygoKSA9PiB7XG5cbiAgICAgICAgY3R4IS5kcmF3SW1hZ2UodmlkZW8sIDY0MCAvIDMgKiAoaWQgJSAzKSwgMTYwICogKChpZCAtIGlkICUgMykgLyAzKSwgNjQwIC8gMywgMTYwLCAwLCAwLCA2NDAsIDQ4MCk7XG4gICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZHJhdygpO1xuICAgICAgICB9LCA0Mik7XG5cbiAgICB9LCBbdmlkZW9dKTtcblxuICAgIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgICAgIGlmICghdmlkZW8pIHJldHVybjtcbiAgICAgICAgaWYgKCFjdHgpIHJldHVybjtcbiAgICAgICAgZHJhdygpO1xuICAgIH0sIFt2aWRlb10pXG5cblxuICAgIHJldHVybiAoXG4gICAgICAgIDw+XG5cbiAgICAgICAgICAgIDxjYW52YXMgaWQ9e2Ake2lkfWB9IHdpZHRoPVwiNjQwXCIgaGVpZ2h0PVwiNDgwXCIgcmVmPXtjbG9uZVJlZn0gPjwvY2FudmFzPlxuICAgICAgICA8Lz5cbiAgICApXG5cbn0iXSwibmFtZXMiOlsidXNlQ2FsbGJhY2siLCJ1c2VFZmZlY3QiLCJ1c2VSZWYiLCJDbG9uZVZpZGVvIiwiaWQiLCJ2aWRlb0lkIiwic2VnbWVudFN0YXRlIiwiY2xvbmVSZWYiLCJjdHgiLCJjdXJyZW50IiwiZ2V0Q29udGV4dCIsInZpZGVvIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsImRyYXciLCJkcmF3SW1hZ2UiLCJzZXRUaW1lb3V0IiwiY2FudmFzIiwid2lkdGgiLCJoZWlnaHQiLCJyZWYiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./components/Game/CloneVideo.tsx\n"));

/***/ }),

/***/ "./components/Game/Segment.tsx":
/*!*************************************!*\
  !*** ./components/Game/Segment.tsx ***!
  \*************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"isNearOutline\": function() { return /* binding */ isNearOutline; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _react_spring_web__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @react-spring/web */ \"./node_modules/@react-spring/web/dist/react-spring-web.esm.js\");\n/* harmony import */ var react_use_gesture__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! react-use-gesture */ \"./node_modules/react-use-gesture/dist/reactusegesture.esm.js\");\n/* harmony import */ var react_redux__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-redux */ \"./node_modules/react-redux/es/index.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var _styles_module_css__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./styles.module.css */ \"./components/Game/styles.module.css\");\n/* harmony import */ var _styles_module_css__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_styles_module_css__WEBPACK_IMPORTED_MODULE_7__);\n/* harmony import */ var _CloneVideo__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CloneVideo */ \"./components/Game/CloneVideo.tsx\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nlet mycnt = 0;\nconst calcX = (y, ly)=>-(y - ly - window.innerHeight / 2) / 20;\nconst calcY = (x, lx)=>(x - lx - window.innerWidth / 2) / 20;\nconst wheel = (y)=>{\n    const imgHeight = window.innerWidth * 0.3 - 20;\n    return \"translateY(\".concat(-imgHeight * (y < 0 ? 6 : 1) - y % (imgHeight * 5), \"px\");\n};\nfunction Segment(param) {\n    let { i , auth , videoId , peerxy , dataChannel , segmentState  } = param;\n    _s();\n    //퍼즐 데이터 스토어와 연결 react-redux\n    const dispatch = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useDispatch)();\n    const storedPosition = (0,react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector)((state)=>{\n        return auth ? state.myPuzzle : state.peerPuzzle;\n    });\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter)();\n    const [isRightPlace, setIsRightPlace] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(!auth);\n    //아래 조건문 위로 올리면 안됨\n    if (segmentState === \"ice\") {\n        auth = false;\n    }\n    const [zindex, setZindex] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(Math.floor(Math.random() * 10));\n    // const videoElement = document.getElementById(videoId) as HTMLVideoElement;\n    // const [width, height] = [videoElement.videoWidth / 3 * (i % 3), videoElement.videoHeight / 3 * ((i - i % 3) / 3)]\n    const d = 1;\n    // 현재 좌표 받아와서 퍼즐을 끼워맞출 곳을 보정해줄 값을 widthOx, heightOx에 저장\n    const [widthOx, heightOx] = [\n        640 / 3 * d,\n        480 / 3 * d\n    ];\n    const [width, height] = [\n        640 / 3 * (i % 3) - widthOx * 1.5,\n        480 / 3 * ((i - i % 3) / 3) + heightOx\n    ];\n    // TODO : 옆으로 init 시 api.start 이동\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const preventDefault = (e)=>e.preventDefault();\n        document.addEventListener(\"gesturestart\", preventDefault);\n        document.addEventListener(\"gesturechange\", preventDefault);\n        return ()=>{\n            document.removeEventListener(\"gesturestart\", preventDefault);\n            document.removeEventListener(\"gesturechange\", preventDefault);\n        };\n    }, []);\n    const domTarget = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const [{ x , y , rotateX , rotateY , rotateZ , zoom , scale  }, api] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring)(()=>{\n        return {\n            rotateX: 0,\n            rotateY: 0,\n            rotateZ: 0,\n            scale: 1,\n            zoom: 0,\n            x: storedPosition[i][0],\n            y: storedPosition[i][1],\n            config: {\n                mass: 2,\n                tension: 750,\n                friction: 50\n            }\n        };\n    });\n    // api.start({ x: storedPosition[i][0], y: storedPosition[i][1] })\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (peerxy !== undefined) {\n            dispatch({\n                type: \"\".concat(peerxy ? \"peerPuzzle\" : \"myPuzzle\", \"/setPosition\"),\n                payload: {\n                    index: i,\n                    position: [\n                        peerxy.peerx,\n                        peerxy.peery\n                    ]\n                }\n            });\n            api.start({\n                x: peerxy.peerx,\n                y: peerxy.peery,\n                rotateX: 0,\n                rotateY: 0\n            });\n        }\n    }, [\n        peerxy\n    ]);\n    const [{ wheelY  }, wheelApi] = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring)(()=>({\n            wheelY: 0\n        }));\n    //for bounding puzzle peace to board\n    const boardPos = (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring)({\n        x: x,\n        y: y\n    });\n    const bindBoardPos = (0,react_use_gesture__WEBPACK_IMPORTED_MODULE_6__.useDrag)((params)=>{\n        //     console.log('뜨냐 유즈드랙??')\n        if (isRightPlace) return;\n        //     // params.offset[0] = storedPosition[i][0];\n        //     // params.offset[1] = storedPosition[i][1];\n        //     // boardPos.x.set(params.offset[0]);\n        x.set(params.offset[0]);\n        y.set(params.offset[1]);\n        //     console.log('params.offset[0] : ', params.offset[0], 'params.offset[1] : ', params.offset[1])\n        //     // console.log(storedPosition[i][0], storedPosition[i][1], 'storred')\n        // if (init) {\n        //     x.set(init.initx);\n        //     y.set(init.inity);\n        //     init = undefined\n        // }\n        // else {\n        // x.set(params.offset[0]);\n        // // boardPos.y.set(params.offset[1]);\n        // y.set(params.offset[1]);\n        // }\n        dispatch({\n            type: \"\".concat(!auth ? \"peerPuzzle\" : \"myPuzzle\", \"/setPosition\"),\n            payload: {\n                index: i,\n                position: [\n                    params.offset[0],\n                    params.offset[1]\n                ]\n            }\n        });\n        // !params.down : 마우스를 떼는 순간\n        if (!params.down && !isRightPlace && isNearOutline(x.get(), y.get(), width, height)) {\n            domTarget.current.setAttribute(\"style\", \"z-index: 0\");\n            api.start({\n                x: width,\n                y: height\n            });\n            setIsRightPlace(true);\n            if (dataChannel) dataChannel.send(JSON.stringify({\n                type: \"cnt\"\n            }));\n            mycnt += 1;\n            if (mycnt == 9) {\n                const myface = document.getElementById(\"myface\");\n                myface.style.display = \"block\";\n                document.getElementById(\"fullscreen\").style.display = \"none\";\n                setTimeout(()=>{\n                    router.push({\n                        pathname: \"/ready\"\n                    });\n                }, 15000);\n            }\n            setZindex(0);\n            dispatch({\n                type: \"\".concat(auth ? \"myPuzzle\" : \"peerPuzzle\", \"/\").concat(i),\n                payload: {\n                    x: width,\n                    y: height\n                }\n            });\n            if ((dataChannel === null || dataChannel === void 0 ? void 0 : dataChannel.readyState) === \"open\") {\n                dataChannel.send(JSON.stringify({\n                    type: \"move\",\n                    i: i,\n                    peerx: width,\n                    peery: height\n                }));\n                return;\n            }\n        }\n        if ((dataChannel === null || dataChannel === void 0 ? void 0 : dataChannel.readyState) === \"open\") {\n            // 데이터 공통 저장소에 저장해야함\n            dataChannel.send(JSON.stringify({\n                type: \"move\",\n                i: i,\n                peerx: x.get(),\n                peery: y.get()\n            }));\n        }\n    }, {\n        bounds: {\n            top: 0,\n            bottom: heightOx * 4,\n            left: -widthOx * 2,\n            right: widthOx * 1\n        },\n        rubberband: 1\n    });\n    (0,react_use_gesture__WEBPACK_IMPORTED_MODULE_6__.useGesture)({\n        onDrag: (param)=>{\n            let { active , offset: [x, y]  } = param;\n            if (isRightPlace) return;\n            //TODO : active 신경써서 수치 변경\n            api.start({\n                x: x,\n                y: y,\n                rotateX: 0,\n                rotateY: 0,\n                scale: active ? 1 : 1.05\n            });\n            dispatch({\n                type: \"\".concat(!auth ? \"peerPuzzle\" : \"myPuzzle\", \"/setPosition\"),\n                payload: {\n                    index: i,\n                    position: [\n                        x,\n                        y\n                    ]\n                }\n            });\n            if ((dataChannel === null || dataChannel === void 0 ? void 0 : dataChannel.readyState) === \"open\") {\n                dataChannel.send(JSON.stringify({\n                    type: \"move\",\n                    i: i,\n                    peerx: x,\n                    peery: y\n                }));\n            }\n        },\n        onPinch: (param)=>{\n            let { offset: [d, a]  } = param;\n            return api.start({\n                zoom: d / 10000,\n                rotateZ: a\n            });\n        },\n        onPinchEnd: ()=>api.start({\n                zoom: 0,\n                rotateZ: 0\n            }),\n        onMove: (param)=>{\n            let { xy: [px, py] , dragging  } = param;\n            !dragging && api.start({\n                rotateX: calcX(py, y.get()),\n                rotateY: calcY(px, x.get()),\n                scale: 1.05\n            });\n        },\n        // onDragEnd: ({ offset: [ox, oy] }) => {\n        //     if (!isRightPlace && isNearOutline(ox, oy, width, height)) {\n        //         domTarget.current!.setAttribute('style', 'z-index: 0')\n        //         api.start({ x: width, y: height })\n        //         setIsRightPlace(true)\n        //         //TODO : 종료조건 넣어두기\n        //         setZindex(0)\n        //         if (dataChannel?.readyState === 'open') {\n        //             dataChannel.send(JSON.stringify({ type: 'move', i: i, peerx: width, peery: height }));\n        //         }\n        //     }\n        // },\n        onHover: (param)=>{\n            let { hovering  } = param;\n            return !hovering && api.start({\n                rotateX: 0,\n                rotateY: 0,\n                scale: 1\n            });\n        },\n        onWheel: (param)=>{\n            let { event , offset: [, y]  } = param;\n            event.preventDefault();\n            wheelApi.set({\n                wheelY: y\n            });\n        }\n    }, {\n        domTarget,\n        eventOptions: {\n            passive: false\n        }\n    });\n    // const [segmentStyle, setSegmentStyle] = useState('default');\n    // switch (segmentState) {\n    //     case 'ice':\n    //         setSegmentStyle('ice')\n    //         break;\n    //     default:\n    //         setSegmentStyle('default')\n    // }\n    //위와 같이 스위치 케이스 문으로 style을 처리하고 싶었으나 ㅠㅠ\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: segmentState === \"rocket\" ? \"hidden\" : \"\",\n            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: (_styles_module_css__WEBPACK_IMPORTED_MODULE_7___default().container),\n                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {\n                    ref: domTarget,\n                    className: (_styles_module_css__WEBPACK_IMPORTED_MODULE_7___default().card),\n                    ...bindBoardPos(),\n                    style: {\n                        transform: \"perspective(600px)\",\n                        x,\n                        y,\n                        scale: (0,_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.to)([\n                            scale,\n                            zoom\n                        ], (s, z)=>s + z),\n                        rotateX,\n                        rotateY,\n                        rotateZ,\n                        zIndex: zindex\n                    },\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_react_spring_web__WEBPACK_IMPORTED_MODULE_2__.animated.div, {\n                        children: [\n                            segmentState === \"ice\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"img\", {\n                                src: \"/images/ice.png\",\n                                width: 640 / 3,\n                                height: 160\n                            }, void 0, false, {\n                                fileName: \"/Users/hoyeon/DP_IceBreaking/components/Game/Segment.tsx\",\n                                lineNumber: 232,\n                                columnNumber: 58\n                            }, this),\n                            segmentState === \"default\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_CloneVideo__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                id: i,\n                                videoId: videoId,\n                                segmentState: segmentState\n                            }, i, false, {\n                                fileName: \"/Users/hoyeon/DP_IceBreaking/components/Game/Segment.tsx\",\n                                lineNumber: 233,\n                                columnNumber: 62\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/hoyeon/DP_IceBreaking/components/Game/Segment.tsx\",\n                        lineNumber: 231,\n                        columnNumber: 25\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/hoyeon/DP_IceBreaking/components/Game/Segment.tsx\",\n                    lineNumber: 217,\n                    columnNumber: 21\n                }, this)\n            }, void 0, false, {\n                fileName: \"/Users/hoyeon/DP_IceBreaking/components/Game/Segment.tsx\",\n                lineNumber: 216,\n                columnNumber: 17\n            }, this)\n        }, void 0, false, {\n            fileName: \"/Users/hoyeon/DP_IceBreaking/components/Game/Segment.tsx\",\n            lineNumber: 215,\n            columnNumber: 13\n        }, this)\n    }, void 0, false);\n}\n_s(Segment, \"fue2JEYhbd9Vjn4y0G33w3p5apQ=\", false, function() {\n    return [\n        react_redux__WEBPACK_IMPORTED_MODULE_3__.useDispatch,\n        react_redux__WEBPACK_IMPORTED_MODULE_3__.useSelector,\n        next_router__WEBPACK_IMPORTED_MODULE_4__.useRouter,\n        _react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring,\n        _react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring,\n        _react_spring_web__WEBPACK_IMPORTED_MODULE_2__.useSpring,\n        react_use_gesture__WEBPACK_IMPORTED_MODULE_6__.useDrag,\n        react_use_gesture__WEBPACK_IMPORTED_MODULE_6__.useGesture\n    ];\n});\n_c = Segment;\nfunction isNearOutline(x, y, positionx, positiony) {\n    const diff = 30;\n    if (x > positionx - diff && x < positionx + diff && y > positiony - diff && y < positiony + diff) {\n        return true;\n    } else return false;\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (/*#__PURE__*/_c1 = (0,react__WEBPACK_IMPORTED_MODULE_1__.memo)(Segment));\nvar _c, _c1;\n$RefreshReg$(_c, \"Segment\");\n$RefreshReg$(_c1, \"%default%\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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TCxDQUFTLEVBQUVvSCxTQUFpQixFQUFFQyxTQUFpQixFQUFFO0lBQ3RGLE1BQU1DLE9BQU87SUFDYixJQUFJakgsSUFBSStHLFlBQVlFLFFBQVFqSCxJQUFJK0csWUFBWUUsUUFBUXRILElBQUlxSCxZQUFZQyxRQUFRdEgsSUFBSXFILFlBQVlDLE1BQU07UUFDOUYsT0FBTyxJQUFJO0lBQ2YsT0FFSSxPQUFPLEtBQUs7QUFDcEIsQ0FBQztBQUlELGtGQUFlbkksMkNBQUlBLENBQUN1QixRQUFRQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvR2FtZS9TZWdtZW50LnRzeD82NTkwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCwgeyB1c2VSZWYsIHVzZUVmZmVjdCwgdXNlU3RhdGUsIG1lbW8gfSBmcm9tICdyZWFjdCdcbmltcG9ydCB7IHVzZVNwcmluZywgYW5pbWF0ZWQsIHRvIH0gZnJvbSAnQHJlYWN0LXNwcmluZy93ZWInXG5pbXBvcnQgeyB1c2VEcmFnLCB1c2VHZXN0dXJlIH0gZnJvbSAncmVhY3QtdXNlLWdlc3R1cmUnXG5pbXBvcnQgeyBQcm92aWRlciwgdXNlU2VsZWN0b3IsIHVzZURpc3BhdGNoIH0gZnJvbSAncmVhY3QtcmVkdXgnXG5pbXBvcnQgaXRlbVN0b3JlIGZyb20gJ0AvcGFnZXMvcm9vbXMvc3RvcmUnXG5pbXBvcnQgeyB1c2VSb3V0ZXIgfSBmcm9tICduZXh0L3JvdXRlcidcbmltcG9ydCBzdHlsZXMgZnJvbSAnLi9zdHlsZXMubW9kdWxlLmNzcydcbmltcG9ydCBDbG9uZVZpZGVvIGZyb20gJy4vQ2xvbmVWaWRlbydcblxubGV0IG15Y250ID0gMFxuXG5cbmNvbnN0IGNhbGNYID0gKHk6IG51bWJlciwgbHk6IG51bWJlcikgPT4gLSh5IC0gbHkgLSB3aW5kb3cuaW5uZXJIZWlnaHQgLyAyKSAvIDIwXG5jb25zdCBjYWxjWSA9ICh4OiBudW1iZXIsIGx4OiBudW1iZXIpID0+ICh4IC0gbHggLSB3aW5kb3cuaW5uZXJXaWR0aCAvIDIpIC8gMjBcblxuY29uc3Qgd2hlZWwgPSAoeTogbnVtYmVyKSA9PiB7XG4gICAgY29uc3QgaW1nSGVpZ2h0ID0gd2luZG93LmlubmVyV2lkdGggKiAwLjMgLSAyMFxuICAgIHJldHVybiBgdHJhbnNsYXRlWSgkey1pbWdIZWlnaHQgKiAoeSA8IDAgPyA2IDogMSkgLSAoeSAlIChpbWdIZWlnaHQgKiA1KSl9cHhgXG59XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gICAgaTogbnVtYmVyXG4gICAgdmlkZW9JZDogc3RyaW5nXG4gICAgYXV0aDogYm9vbGVhblxuICAgIHBlZXJ4eTogeyBwZWVyeDogbnVtYmVyLCBwZWVyeTogbnVtYmVyIH0gfCB1bmRlZmluZWRcbiAgICBkYXRhQ2hhbm5lbDogUlRDRGF0YUNoYW5uZWwgfCB1bmRlZmluZWRcbiAgICBzZWdtZW50U3RhdGU6IHN0cmluZ1xufVxuZnVuY3Rpb24gU2VnbWVudCh7IGksIGF1dGgsIHZpZGVvSWQsIHBlZXJ4eSwgZGF0YUNoYW5uZWwsIHNlZ21lbnRTdGF0ZSB9OiBQcm9wcykge1xuXG4gICAgLy/tjbzsppAg642w7J207YSwIOyKpO2GoOyWtOyZgCDsl7DqsrAgcmVhY3QtcmVkdXhcbiAgICBjb25zdCBkaXNwYXRjaCA9IHVzZURpc3BhdGNoKCk7XG4gICAgY29uc3Qgc3RvcmVkUG9zaXRpb24gPSB1c2VTZWxlY3Rvcigoc3RhdGU6IGFueSkgPT4geyByZXR1cm4gYXV0aCA/IHN0YXRlLm15UHV6emxlIDogc3RhdGUucGVlclB1enpsZSB9KTtcblxuICAgIGNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpO1xuXG4gICAgY29uc3QgW2lzUmlnaHRQbGFjZSwgc2V0SXNSaWdodFBsYWNlXSA9IHVzZVN0YXRlKCFhdXRoKVxuICAgIC8v7JWE656YIOyhsOqxtOusuCDsnITroZwg7Jis66as66m0IOyViOuQqFxuICAgIGlmIChzZWdtZW50U3RhdGUgPT09ICdpY2UnKSB7XG4gICAgICAgIGF1dGggPSBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgW3ppbmRleCwgc2V0WmluZGV4XSA9IHVzZVN0YXRlKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwKSlcbiAgICAvLyBjb25zdCB2aWRlb0VsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh2aWRlb0lkKSBhcyBIVE1MVmlkZW9FbGVtZW50O1xuICAgIC8vIGNvbnN0IFt3aWR0aCwgaGVpZ2h0XSA9IFt2aWRlb0VsZW1lbnQudmlkZW9XaWR0aCAvIDMgKiAoaSAlIDMpLCB2aWRlb0VsZW1lbnQudmlkZW9IZWlnaHQgLyAzICogKChpIC0gaSAlIDMpIC8gMyldXG4gICAgY29uc3QgZCA9IDE7XG4gICAgLy8g7ZiE7J6sIOyijO2RnCDrsJvslYTsmYDshJwg7Y287KaQ7J2EIOuBvOybjOunnuy2nCDqs7PsnYQg67O07KCV7ZW07KSEIOqwkuydhCB3aWR0aE94LCBoZWlnaHRPeOyXkCDsoIDsnqVcbiAgICBjb25zdCBbd2lkdGhPeCwgaGVpZ2h0T3hdID0gWzY0MCAvIDMgKiBkLCA0ODAgLyAzICogZF1cbiAgICBjb25zdCBbd2lkdGgsIGhlaWdodF0gPSBbNjQwIC8gMyAqIChpICUgMykgLSB3aWR0aE94ICogMS41LCA0ODAgLyAzICogKChpIC0gaSAlIDMpIC8gMykgKyBoZWlnaHRPeF1cblxuICAgIC8vIFRPRE8gOiDsmIbsnLzroZwgaW5pdCDsi5wgYXBpLnN0YXJ0IOydtOuPmVxuXG4gICAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgY29uc3QgcHJldmVudERlZmF1bHQgPSAoZTogRXZlbnQpID0+IGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdnZXN0dXJlc3RhcnQnLCBwcmV2ZW50RGVmYXVsdClcbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignZ2VzdHVyZWNoYW5nZScsIHByZXZlbnREZWZhdWx0KVxuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignZ2VzdHVyZXN0YXJ0JywgcHJldmVudERlZmF1bHQpXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdnZXN0dXJlY2hhbmdlJywgcHJldmVudERlZmF1bHQpXG4gICAgICAgIH1cbiAgICB9LCBbXSlcblxuXG5cbiAgICBjb25zdCBkb21UYXJnZXQgPSB1c2VSZWY8SFRNTERpdkVsZW1lbnQ+KG51bGwpXG4gICAgY29uc3QgW3sgeCwgeSwgcm90YXRlWCwgcm90YXRlWSwgcm90YXRlWiwgem9vbSwgc2NhbGUgfSwgYXBpXSA9IHVzZVNwcmluZyhcbiAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuICh7XG4gICAgICAgICAgICAgICAgcm90YXRlWDogMCxcbiAgICAgICAgICAgICAgICByb3RhdGVZOiAwLFxuICAgICAgICAgICAgICAgIHJvdGF0ZVo6IDAsXG4gICAgICAgICAgICAgICAgc2NhbGU6IDEsXG4gICAgICAgICAgICAgICAgem9vbTogMCxcbiAgICAgICAgICAgICAgICB4OiBzdG9yZWRQb3NpdGlvbltpXVswXSxcbiAgICAgICAgICAgICAgICB5OiBzdG9yZWRQb3NpdGlvbltpXVsxXSxcbiAgICAgICAgICAgICAgICBjb25maWc6IHsgbWFzczogMiwgdGVuc2lvbjogNzUwLCBmcmljdGlvbjogNTAgfSxcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICApXG4gICAgLy8gYXBpLnN0YXJ0KHsgeDogc3RvcmVkUG9zaXRpb25baV1bMF0sIHk6IHN0b3JlZFBvc2l0aW9uW2ldWzFdIH0pXG5cbiAgICB1c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBpZiAocGVlcnh5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogYCR7cGVlcnh5ID8gJ3BlZXJQdXp6bGUnIDogJ215UHV6emxlJ30vc2V0UG9zaXRpb25gLCBwYXlsb2FkOiB7IGluZGV4OiBpLCBwb3NpdGlvbjogW3BlZXJ4eS5wZWVyeCwgcGVlcnh5LnBlZXJ5XSB9IH0pO1xuICAgICAgICAgICAgYXBpLnN0YXJ0KHsgeDogcGVlcnh5LnBlZXJ4LCB5OiBwZWVyeHkucGVlcnksIHJvdGF0ZVg6IDAsIHJvdGF0ZVk6IDAgfSlcbiAgICAgICAgfVxuICAgIH0sIFtwZWVyeHldKVxuXG5cbiAgICBjb25zdCBbeyB3aGVlbFkgfSwgd2hlZWxBcGldID0gdXNlU3ByaW5nKCgpID0+ICh7IHdoZWVsWTogMCB9KSlcblxuICAgIC8vZm9yIGJvdW5kaW5nIHB1enpsZSBwZWFjZSB0byBib2FyZFxuICAgIGNvbnN0IGJvYXJkUG9zID0gdXNlU3ByaW5nKHsgeDogeCwgeTogeSB9KVxuICAgIGNvbnN0IGJpbmRCb2FyZFBvcyA9IHVzZURyYWcoKHBhcmFtcykgPT4ge1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ+ucqOuDkCDsnKDspojrk5zrnpk/PycpXG4gICAgICAgIGlmIChpc1JpZ2h0UGxhY2UpIHJldHVybjtcbiAgICAgICAgLy8gICAgIC8vIHBhcmFtcy5vZmZzZXRbMF0gPSBzdG9yZWRQb3NpdGlvbltpXVswXTtcbiAgICAgICAgLy8gICAgIC8vIHBhcmFtcy5vZmZzZXRbMV0gPSBzdG9yZWRQb3NpdGlvbltpXVsxXTtcbiAgICAgICAgLy8gICAgIC8vIGJvYXJkUG9zLnguc2V0KHBhcmFtcy5vZmZzZXRbMF0pO1xuICAgICAgICB4LnNldChwYXJhbXMub2Zmc2V0WzBdKTtcbiAgICAgICAgeS5zZXQocGFyYW1zLm9mZnNldFsxXSk7XG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygncGFyYW1zLm9mZnNldFswXSA6ICcsIHBhcmFtcy5vZmZzZXRbMF0sICdwYXJhbXMub2Zmc2V0WzFdIDogJywgcGFyYW1zLm9mZnNldFsxXSlcbiAgICAgICAgLy8gICAgIC8vIGNvbnNvbGUubG9nKHN0b3JlZFBvc2l0aW9uW2ldWzBdLCBzdG9yZWRQb3NpdGlvbltpXVsxXSwgJ3N0b3JyZWQnKVxuICAgICAgICAvLyBpZiAoaW5pdCkge1xuICAgICAgICAvLyAgICAgeC5zZXQoaW5pdC5pbml0eCk7XG4gICAgICAgIC8vICAgICB5LnNldChpbml0LmluaXR5KTtcbiAgICAgICAgLy8gICAgIGluaXQgPSB1bmRlZmluZWRcbiAgICAgICAgLy8gfVxuICAgICAgICAvLyBlbHNlIHtcbiAgICAgICAgLy8geC5zZXQocGFyYW1zLm9mZnNldFswXSk7XG4gICAgICAgIC8vIC8vIGJvYXJkUG9zLnkuc2V0KHBhcmFtcy5vZmZzZXRbMV0pO1xuICAgICAgICAvLyB5LnNldChwYXJhbXMub2Zmc2V0WzFdKTtcbiAgICAgICAgLy8gfVxuXG4gICAgICAgIGRpc3BhdGNoKHsgdHlwZTogYCR7IWF1dGggPyAncGVlclB1enpsZScgOiAnbXlQdXp6bGUnfS9zZXRQb3NpdGlvbmAsIHBheWxvYWQ6IHsgaW5kZXg6IGksIHBvc2l0aW9uOiBbcGFyYW1zLm9mZnNldFswXSwgcGFyYW1zLm9mZnNldFsxXV0gfSB9KTtcbiAgICAgICAgLy8gIXBhcmFtcy5kb3duIDog66eI7Jqw7Iqk66W8IOuWvOuKlCDsiJzqsIRcbiAgICAgICAgaWYgKCFwYXJhbXMuZG93biAmJiAhaXNSaWdodFBsYWNlICYmIGlzTmVhck91dGxpbmUoeC5nZXQoKSwgeS5nZXQoKSwgd2lkdGgsIGhlaWdodCkpIHtcbiAgICAgICAgICAgIGRvbVRhcmdldC5jdXJyZW50IS5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJ3otaW5kZXg6IDAnKVxuICAgICAgICAgICAgYXBpLnN0YXJ0KHsgeDogd2lkdGgsIHk6IGhlaWdodCB9KVxuICAgICAgICAgICAgc2V0SXNSaWdodFBsYWNlKHRydWUpXG4gICAgICAgICAgICBpZiAoZGF0YUNoYW5uZWwpXG4gICAgICAgICAgICAgICAgZGF0YUNoYW5uZWwuc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdjbnQnIH0pKVxuICAgICAgICAgICAgbXljbnQgKz0gMVxuICAgICAgICAgICAgaWYgKG15Y250ID09IDkpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBteWZhY2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbXlmYWNlJylcbiAgICAgICAgICAgICAgICBteWZhY2UhLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Z1bGxzY3JlZW4nKSEuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJvdXRlci5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGhuYW1lOiAnL3JlYWR5JyxcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICB9LCAxNTAwMClcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2V0WmluZGV4KDApXG4gICAgICAgICAgICBkaXNwYXRjaCh7IHR5cGU6IGAke2F1dGggPyAnbXlQdXp6bGUnIDogJ3BlZXJQdXp6bGUnfS8ke2l9YCwgcGF5bG9hZDogeyB4OiB3aWR0aCwgeTogaGVpZ2h0IH0gfSk7XG4gICAgICAgICAgICBpZiAoZGF0YUNoYW5uZWw/LnJlYWR5U3RhdGUgPT09ICdvcGVuJykge1xuICAgICAgICAgICAgICAgIGRhdGFDaGFubmVsLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbW92ZScsIGk6IGksIHBlZXJ4OiB3aWR0aCwgcGVlcnk6IGhlaWdodCB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRhdGFDaGFubmVsPy5yZWFkeVN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgICAgIC8vIOuNsOydtO2EsCDqs7XthrUg7KCA7J6l7IaM7JeQIOyggOyepe2VtOyVvO2VqFxuICAgICAgICAgICAgZGF0YUNoYW5uZWwuc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdtb3ZlJywgaTogaSwgcGVlcng6IHguZ2V0KCksIHBlZXJ5OiB5LmdldCgpIH0pKVxuICAgICAgICB9XG4gICAgfSxcbiAgICAgICAge1xuICAgICAgICAgICAgYm91bmRzOiB7IHRvcDogMCwgYm90dG9tOiBoZWlnaHRPeCAqIDQsIGxlZnQ6IC13aWR0aE94ICogMiwgcmlnaHQ6IHdpZHRoT3ggKiAxIH0sXG4gICAgICAgICAgICBydWJiZXJiYW5kOiAxXG4gICAgICAgIH1cbiAgICApXG5cblxuXG4gICAgdXNlR2VzdHVyZShcbiAgICAgICAge1xuICAgICAgICAgICAgb25EcmFnOiAoeyBhY3RpdmUsIG9mZnNldDogW3gsIHldIH0pID0+IHtcblxuICAgICAgICAgICAgICAgIGlmIChpc1JpZ2h0UGxhY2UpIHJldHVybjtcblxuICAgICAgICAgICAgICAgIC8vVE9ETyA6IGFjdGl2ZSDsi6Dqsr3sjajshJwg7IiY7LmYIOuzgOqyvVxuICAgICAgICAgICAgICAgIGFwaS5zdGFydCh7IHg6IHgsIHk6IHksIHJvdGF0ZVg6IDAsIHJvdGF0ZVk6IDAsIHNjYWxlOiBhY3RpdmUgPyAxIDogMS4wNSB9KVxuICAgICAgICAgICAgICAgIGRpc3BhdGNoKHsgdHlwZTogYCR7IWF1dGggPyAncGVlclB1enpsZScgOiAnbXlQdXp6bGUnfS9zZXRQb3NpdGlvbmAsIHBheWxvYWQ6IHsgaW5kZXg6IGksIHBvc2l0aW9uOiBbeCwgeV0gfSB9KTtcblxuICAgICAgICAgICAgICAgIGlmIChkYXRhQ2hhbm5lbD8ucmVhZHlTdGF0ZSA9PT0gJ29wZW4nKSB7XG5cbiAgICAgICAgICAgICAgICAgICAgZGF0YUNoYW5uZWwuc2VuZChKU09OLnN0cmluZ2lmeSh7IHR5cGU6ICdtb3ZlJywgaTogaSwgcGVlcng6IHgsIHBlZXJ5OiB5IH0pKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvblBpbmNoOiAoeyBvZmZzZXQ6IFtkLCBhXSB9KSA9PiBhcGkuc3RhcnQoeyB6b29tOiBkIC8gMTAwMDAsIHJvdGF0ZVo6IGEgfSksXG4gICAgICAgICAgICBvblBpbmNoRW5kOiAoKSA9PiBhcGkuc3RhcnQoeyB6b29tOiAwLCByb3RhdGVaOiAwIH0pLFxuICAgICAgICAgICAgb25Nb3ZlOiAoeyB4eTogW3B4LCBweV0sIGRyYWdnaW5nIH0pID0+IHtcbiAgICAgICAgICAgICAgICAhZHJhZ2dpbmcgJiZcbiAgICAgICAgICAgICAgICAgICAgYXBpLnN0YXJ0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVg6IGNhbGNYKHB5LCB5LmdldCgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVk6IGNhbGNZKHB4LCB4LmdldCgpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiAxLjA1LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAvLyBvbkRyYWdFbmQ6ICh7IG9mZnNldDogW294LCBveV0gfSkgPT4ge1xuICAgICAgICAgICAgLy8gICAgIGlmICghaXNSaWdodFBsYWNlICYmIGlzTmVhck91dGxpbmUob3gsIG95LCB3aWR0aCwgaGVpZ2h0KSkge1xuICAgICAgICAgICAgLy8gICAgICAgICBkb21UYXJnZXQuY3VycmVudCEuc2V0QXR0cmlidXRlKCdzdHlsZScsICd6LWluZGV4OiAwJylcbiAgICAgICAgICAgIC8vICAgICAgICAgYXBpLnN0YXJ0KHsgeDogd2lkdGgsIHk6IGhlaWdodCB9KVxuICAgICAgICAgICAgLy8gICAgICAgICBzZXRJc1JpZ2h0UGxhY2UodHJ1ZSlcbiAgICAgICAgICAgIC8vICAgICAgICAgLy9UT0RPIDog7KKF66OM7KGw6rG0IOuEo+yWtOuRkOq4sFxuICAgICAgICAgICAgLy8gICAgICAgICBzZXRaaW5kZXgoMClcbiAgICAgICAgICAgIC8vICAgICAgICAgaWYgKGRhdGFDaGFubmVsPy5yZWFkeVN0YXRlID09PSAnb3BlbicpIHtcbiAgICAgICAgICAgIC8vICAgICAgICAgICAgIGRhdGFDaGFubmVsLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyB0eXBlOiAnbW92ZScsIGk6IGksIHBlZXJ4OiB3aWR0aCwgcGVlcnk6IGhlaWdodCB9KSk7XG4gICAgICAgICAgICAvLyAgICAgICAgIH1cbiAgICAgICAgICAgIC8vICAgICB9XG4gICAgICAgICAgICAvLyB9LFxuICAgICAgICAgICAgb25Ib3ZlcjogKHsgaG92ZXJpbmcgfSkgPT5cbiAgICAgICAgICAgICAgICAhaG92ZXJpbmcgJiYgYXBpLnN0YXJ0KHsgcm90YXRlWDogMCwgcm90YXRlWTogMCwgc2NhbGU6IDEgfSksXG4gICAgICAgICAgICBvbldoZWVsOiAoeyBldmVudCwgb2Zmc2V0OiBbLCB5XSB9KSA9PiB7XG4gICAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKVxuICAgICAgICAgICAgICAgIHdoZWVsQXBpLnNldCh7IHdoZWVsWTogeSB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgeyBkb21UYXJnZXQsIGV2ZW50T3B0aW9uczogeyBwYXNzaXZlOiBmYWxzZSB9IH1cbiAgICApXG5cbiAgICAvLyBjb25zdCBbc2VnbWVudFN0eWxlLCBzZXRTZWdtZW50U3R5bGVdID0gdXNlU3RhdGUoJ2RlZmF1bHQnKTtcblxuICAgIC8vIHN3aXRjaCAoc2VnbWVudFN0YXRlKSB7XG4gICAgLy8gICAgIGNhc2UgJ2ljZSc6XG4gICAgLy8gICAgICAgICBzZXRTZWdtZW50U3R5bGUoJ2ljZScpXG4gICAgLy8gICAgICAgICBicmVhaztcbiAgICAvLyAgICAgZGVmYXVsdDpcbiAgICAvLyAgICAgICAgIHNldFNlZ21lbnRTdHlsZSgnZGVmYXVsdCcpXG4gICAgLy8gfVxuXG4gICAgLy/snITsmYAg6rCZ7J20IOyKpOychOy5mCDsvIDsnbTsiqQg66y47Jy866GcIHN0eWxl7J2EIOyymOumrO2VmOqzoCDsi7bsl4jsnLzrgpgg44Wg44WgXG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9eyhzZWdtZW50U3RhdGUgPT09IFwicm9ja2V0XCIpID8gJ2hpZGRlbicgOiAnJ30+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9e3N0eWxlcy5jb250YWluZXJ9PlxuICAgICAgICAgICAgICAgICAgICA8YW5pbWF0ZWQuZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICByZWY9e2RvbVRhcmdldH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17c3R5bGVzLmNhcmR9XG4gICAgICAgICAgICAgICAgICAgICAgICB7Li4uYmluZEJvYXJkUG9zKCl9XG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT17e1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybTogJ3BlcnNwZWN0aXZlKDYwMHB4KScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjYWxlOiB0byhbc2NhbGUsIHpvb21dLCAocywgeikgPT4gcyArIHopLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvdGF0ZVgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm90YXRlWSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByb3RhdGVaLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHpJbmRleDogemluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhbmltYXRlZC5kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgeyhzZWdtZW50U3RhdGUgPT09IFwiaWNlXCIpICYmIDxpbWcgc3JjPVwiL2ltYWdlcy9pY2UucG5nXCIgd2lkdGg9ezY0MCAvIDN9IGhlaWdodD17MTYwfSAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHNlZ21lbnRTdGF0ZSA9PT0gXCJkZWZhdWx0XCIpICYmIDxDbG9uZVZpZGVvIGtleT17aX0gaWQ9e2l9IHZpZGVvSWQ9e3ZpZGVvSWR9IHNlZ21lbnRTdGF0ZT17c2VnbWVudFN0YXRlfSAvPn1cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYW5pbWF0ZWQuZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2FuaW1hdGVkLmRpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvPlxuICAgIClcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzTmVhck91dGxpbmUoeDogbnVtYmVyLCB5OiBudW1iZXIsIHBvc2l0aW9ueDogbnVtYmVyLCBwb3NpdGlvbnk6IG51bWJlcikge1xuICAgIGNvbnN0IGRpZmYgPSAzMDtcbiAgICBpZiAoeCA+IHBvc2l0aW9ueCAtIGRpZmYgJiYgeCA8IHBvc2l0aW9ueCArIGRpZmYgJiYgeSA+IHBvc2l0aW9ueSAtIGRpZmYgJiYgeSA8IHBvc2l0aW9ueSArIGRpZmYpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGVsc2VcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xufVxuXG5cblxuZXhwb3J0IGRlZmF1bHQgbWVtbyhTZWdtZW50KTsiXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VSZWYiLCJ1c2VFZmZlY3QiLCJ1c2VTdGF0ZSIsIm1lbW8iLCJ1c2VTcHJpbmciLCJhbmltYXRlZCIsInRvIiwidXNlRHJhZyIsInVzZUdlc3R1cmUiLCJ1c2VTZWxlY3RvciIsInVzZURpc3BhdGNoIiwidXNlUm91dGVyIiwic3R5bGVzIiwiQ2xvbmVWaWRlbyIsIm15Y250IiwiY2FsY1giLCJ5IiwibHkiLCJ3aW5kb3ciLCJpbm5lckhlaWdodCIsImNhbGNZIiwieCIsImx4IiwiaW5uZXJXaWR0aCIsIndoZWVsIiwiaW1nSGVpZ2h0IiwiU2VnbWVudCIsImkiLCJhdXRoIiwidmlkZW9JZCIsInBlZXJ4eSIsImRhdGFDaGFubmVsIiwic2VnbWVudFN0YXRlIiwiZGlzcGF0Y2giLCJzdG9yZWRQb3NpdGlvbiIsInN0YXRlIiwibXlQdXp6bGUiLCJwZWVyUHV6emxlIiwicm91dGVyIiwiaXNSaWdodFBsYWNlIiwic2V0SXNSaWdodFBsYWNlIiwiemluZGV4Iiwic2V0WmluZGV4IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZCIsIndpZHRoT3giLCJoZWlnaHRPeCIsIndpZHRoIiwiaGVpZ2h0IiwicHJldmVudERlZmF1bHQiLCJlIiwiZG9jdW1lbnQiLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImRvbVRhcmdldCIsInJvdGF0ZVgiLCJyb3RhdGVZIiwicm90YXRlWiIsInpvb20iLCJzY2FsZSIsImFwaSIsImNvbmZpZyIsIm1hc3MiLCJ0ZW5zaW9uIiwiZnJpY3Rpb24iLCJ1bmRlZmluZWQiLCJ0eXBlIiwicGF5bG9hZCIsImluZGV4IiwicG9zaXRpb24iLCJwZWVyeCIsInBlZXJ5Iiwic3RhcnQiLCJ3aGVlbFkiLCJ3aGVlbEFwaSIsImJvYXJkUG9zIiwiYmluZEJvYXJkUG9zIiwicGFyYW1zIiwic2V0Iiwib2Zmc2V0IiwiZG93biIsImlzTmVhck91dGxpbmUiLCJnZXQiLCJjdXJyZW50Iiwic2V0QXR0cmlidXRlIiwic2VuZCIsIkpTT04iLCJzdHJpbmdpZnkiLCJteWZhY2UiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiZGlzcGxheSIsInNldFRpbWVvdXQiLCJwdXNoIiwicGF0aG5hbWUiLCJyZWFkeVN0YXRlIiwiYm91bmRzIiwidG9wIiwiYm90dG9tIiwibGVmdCIsInJpZ2h0IiwicnViYmVyYmFuZCIsIm9uRHJhZyIsImFjdGl2ZSIsIm9uUGluY2giLCJhIiwib25QaW5jaEVuZCIsIm9uTW92ZSIsInh5IiwicHgiLCJweSIsImRyYWdnaW5nIiwib25Ib3ZlciIsImhvdmVyaW5nIiwib25XaGVlbCIsImV2ZW50IiwiZXZlbnRPcHRpb25zIiwicGFzc2l2ZSIsImRpdiIsImNsYXNzTmFtZSIsImNvbnRhaW5lciIsInJlZiIsImNhcmQiLCJ0cmFuc2Zvcm0iLCJzIiwieiIsInpJbmRleCIsImltZyIsInNyYyIsImlkIiwicG9zaXRpb254IiwicG9zaXRpb255IiwiZGlmZiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./components/Game/Segment.tsx\n"));

/***/ })

}]);