"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("pages/play",{

/***/ "./components/WebRTC/WebRTC.tsx":
/*!**************************************!*\
  !*** ./components/WebRTC/WebRTC.tsx ***!
  \**************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ WebRTC; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"./node_modules/react/jsx-dev-runtime.js\");\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"./node_modules/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/router */ \"./node_modules/next/router.js\");\n/* harmony import */ var next_router__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_router__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var socket_io_client__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! socket.io-client */ \"./node_modules/socket.io-client/build/esm/index.js\");\n/* harmony import */ var _pages_hooks_useSocket__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../pages/hooks/useSocket */ \"./pages/hooks/useSocket.tsx\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! next/dynamic */ \"./node_modules/next/dynamic.js\");\n/* harmony import */ var next_dynamic__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(next_dynamic__WEBPACK_IMPORTED_MODULE_5__);\n/* harmony import */ var usehooks_ts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! usehooks-ts */ \"./node_modules/usehooks-ts/dist/esm/index.js\");\n/* harmony import */ var _Game_rocket__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Game/rocket */ \"./components/Game/rocket.tsx\");\n\nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nconst PuzzleSegment = next_dynamic__WEBPACK_IMPORTED_MODULE_5___default()(__webpack_require__.e(/*! import() */ \"components_Game_Segment_tsx\").then(__webpack_require__.bind(__webpack_require__, /*! @/components/Game/Segment */ \"./components/Game/Segment.tsx\")), {\n    loadableGenerated: {\n        modules: [\n            \"../components/WebRTC/WebRTC.tsx -> \" + \"@/components/Game/Segment\"\n        ]\n    },\n    loading: ()=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {}, void 0, false, {\n            fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n            lineNumber: 12,\n            columnNumber: 19\n        }, undefined),\n    ssr: false\n});\n_c = PuzzleSegment;\nconst ICE_SERVERS = {\n    iceServers: [\n        {\n            urls: [\n                \"stun:openrelay.metered.ca:80\",\n                \"stun:stun.l.google.com:19302\",\n                \"stun:stun1.l.google.com:19302\",\n                \"stun:stun01.sipphone.com\",\n                \"stun:stun.ekiga.net\",\n                \"stun:stun.fwdnet.net\",\n                \"stun:stun.ideasip.com\",\n                \"stun:stun.iptel.org\",\n                \"stun:stun.rixtelecom.se\",\n                \"stun:stun.schlund.de\",\n                \"stun:stunserver.org\",\n                \"stun:stun.softjoys.com\",\n                \"stun:stun.voiparound.com\",\n                \"stun:stun.voipbuster.com\",\n                \"stun:stun.voipstunt.com\",\n                \"stun:stun.voxgratia.org\",\n                \"stun:stun.xten.com\"\n            ]\n        }\n    ]\n};\nfunction WebRTC() {\n    _s();\n    const windowSize = (0,usehooks_ts__WEBPACK_IMPORTED_MODULE_6__.useWindowSize)();\n    (0,_pages_hooks_useSocket__WEBPACK_IMPORTED_MODULE_4__[\"default\"])();\n    const router = (0,next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    //useRef은 특정컴포넌트에 접근할 수 있는 객체, 초기값 null\n    //userRef hook은 내부 데이터가 변경되었을 때 별도로 알리지 않음\n    const userVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const peerVideoRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const userStreamRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const webRTCConnRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const socketRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const hostRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\n    const selectRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const nickNameChannel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    const moveChannel = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    var recievedPosition = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)();\n    //State\n    const [micSetting, setMicSetting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [cameraSetting, setCameraSetting] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [roomName, setRoomName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [nickName, setNickName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [peerNickName, setPeerNickName] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [peerPosition, setPeerPosition] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        i: 100,\n        peerx: 0,\n        peery: 0\n    });\n    //닉네임 설정\n    const handleNickName = (e)=>{\n        setNickName(e.currentTarget.value);\n        // console.log(nickNameChannel);\n        if (typeof nickNameChannel.current !== \"undefined\" && nickNameChannel.current.label == \"nickname\") {\n            nickNameChannel.current.send(e.currentTarget.value);\n        } else {\n            console.log(\"[No data Channel]\");\n        }\n    };\n    //사이드 이펙트를 수행하기 위한 훅\n    //videoRef가 create,update 될 때 실행된다. (props, state가 바뀔 때 마다 getUserCamera함수를 호출한다)\n    // umount 시에 실행하고 싶은 함수는 return 함수를 달아준다\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // 서버 <-> 브라우저 간 socket io 통신 연결\n        socketRef.current = (0,socket_io_client__WEBPACK_IMPORTED_MODULE_3__.io)();\n        // 초기 room을이름 설정\n        setRoomName(\"Room1\");\n        console.log(\"RoomName :\", roomName);\n        socketRef.current.on(\"created\", handleRoomCreated);\n        socketRef.current.emit(\"join\", roomName);\n        socketRef.current.on(\"joined\", handleRoomJoined);\n        // roomName으로 room을이 없으면 서버는 'created'를 emit한다.\n        // room을이 만들어졌고, 다음 사람이 참가하면 서버는 'ready'를 emit한다.\n        socketRef.current.on(\"ready\", initiateCall);\n        // 참가자가 room을을 떠나면 'leave'를 emit한다.\n        socketRef.current.on(\"leave\", onPeerLeave);\n        //room을이 가득 찼으면 서버는 'full'을 emit한다.\n        socketRef.current.on(\"full\", ()=>{\n            alert(\"참가하려는 room을이 가득 찼습니다.\");\n        });\n        // client- signaling server 간 offer , answer, ice-candidate 과정\n        socketRef.current.on(\"offer\", handleReceivedOffer);\n        socketRef.current.on(\"answer\", handleAnswer);\n        socketRef.current.on(\"ice-candidate\", handlerNewIceCandidateMsg);\n        // unmmount시 소켓을 끊는다\n        return ()=>socketRef.current.disconnect();\n    }, [\n        roomName\n    ]);\n    async function getCameras() {\n        try {\n            const devices = await navigator.mediaDevices.enumerateDevices();\n            const cameras = devices.filter((device)=>device.kind === \"videoinput\");\n            const currentCamera = userStreamRef.current.getVideoTracks()[0];\n            cameras.forEach((camera)=>{\n                const option = document.createElement(\"option\");\n                option.value = camera.deviceId;\n                option.innerText = camera.label;\n                if (currentCamera.label === camera.label) {\n                    option.selected = true;\n                }\n                selectRef.current.appendChild(option);\n            });\n        } catch (e) {\n            console.log(\"getCameras error\", e);\n        }\n    }\n    const handleSelect = (e)=>{\n        handleCameraChange(e.target.value);\n        selectRef.current = e.target.value;\n    };\n    async function handleCameraChange(selected) {\n        await getMedia(selected);\n        if (webRTCConnRef.current) {\n            const videoTrack = userStreamRef.current.getVideoTracks()[0];\n            const videoSender = webRTCConnRef.current.getSenders().find((sender)=>sender.track.kind === \"video\");\n            videoSender.replaceTrack(videoTrack);\n        }\n    }\n    async function getMedia(deviceId) {\n        const initialConstraints = {\n            audio: true,\n            video: {\n                facingMode: \"user\"\n            }\n        };\n        const cameraConstraints = {\n            audio: true,\n            video: {\n                deviceId: {\n                    exact: deviceId\n                }\n            }\n        };\n        try {\n            const stream = await navigator.mediaDevices.getUserMedia(deviceId ? cameraConstraints : initialConstraints);\n            userStreamRef.current = stream;\n            userVideoRef.current.srcObject = stream;\n            userVideoRef.current.onloadedmetadata = ()=>{\n                userVideoRef.current.play();\n            };\n            if (!deviceId) {\n                console.log(\"[get Cameras]\");\n                await getCameras();\n            }\n        } catch (e) {\n            console.log(\"navigator getUserMedia error\", e);\n        }\n    }\n    const handleRoomCreated = async ()=>{\n        try {\n            console.log(\"[room created]\");\n            hostRef.current = true;\n            await getMedia();\n        } catch (e) {\n            console.log(e);\n        }\n    };\n    const handleRoomJoined = async ()=>{\n        try {\n            await getMedia();\n            socketRef.current.emit(\"ready\", roomName);\n            console.log(\"[emit ready]\");\n        } catch (e) {\n            console.log(\"handleRoomJoined error\", e);\n        }\n    };\n    //peer와 연결 생성 시작, eventlisten을 호스트에서 실행\n    const initiateCall = async ()=>{\n        console.log(\"[initiateCall]\");\n        if (hostRef.current) {\n            webRTCConnRef.current = makeConnection();\n            userStreamRef.current.getTracks().forEach((track)=>webRTCConnRef.current.addTrack(track, userStreamRef.current));\n            try {\n                console.log(\"[emit offer]\");\n                //DataChannel create and label setting\n                nickNameChannel.current = webRTCConnRef.current.createDataChannel(\"nickname\");\n                moveChannel.current = webRTCConnRef.current.createDataChannel(\"move\");\n                //Client B -> Client A  message\n                nickNameChannel.current.addEventListener(\"message\", (event)=>{\n                // setPeerNickName(event.data);\n                // console.log(JSON.parse(event.data));\n                });\n                moveChannel.current.addEventListener(\"message\", (event)=>{\n                    // recievedPosition = JSON.parse(event.data);\n                    if (event.data) {\n                        console.log(event.data, \"in initiateCall\");\n                        setPeerPosition(JSON.parse(event.data));\n                    }\n                });\n                const offer = await webRTCConnRef.current.createOffer();\n                webRTCConnRef.current.setLocalDescription(offer);\n                socketRef.current.emit(\"offer\", offer, roomName);\n            } catch (e) {\n                console.log(\"initialCall error\", e);\n            }\n        }\n    };\n    const onPeerLeave = ()=>{\n        //room을에 혼자 남아 있을 경우, 남아 있는 사람이 room을의 주인이 됨\n        hostRef.current = true;\n        if (peerVideoRef.current.srcObject) {\n            // peer의 모든 track 수신을 중지\n            peerVideoRef.current.srcObject.getTracks().forEach((track)=>track.stop());\n        }\n        // leave 한 peer와 연결을 종료\n        if (webRTCConnRef.current) {\n            webRTCConnRef.current.ontrack = null;\n            webRTCConnRef.current.onicecandidate = null;\n            webRTCConnRef.current.close();\n            webRTCConnRef.current = null;\n        }\n    };\n    //room을 떠날 때\n    const leaveRoom = ()=>{\n        socketRef.current.emit(\"leave\", roomName);\n        console.log(\"[emit leave]\");\n        //유저와 peer 모든 media 수신을 중지\n        if (userVideoRef.current.srcObject) {\n            userVideoRef.current.srcObject.getTracks().forEach((track)=>track.stop());\n        }\n        if (peerVideoRef.current.srcObject) {\n            peerVideoRef.current.srcObject.getTracks().forEach((track)=>track.stop());\n        }\n        //connect이 있는지 확인하고 피어와 기존 연결을 종료\n        if (webRTCConnRef.current) {\n            webRTCConnRef.current.ontrack = null;\n            webRTCConnRef.current.onicecandidate = null;\n            webRTCConnRef.current.close();\n            webRTCConnRef.current = null;\n        }\n        router.push(\"/\");\n    };\n    const makeConnection = ()=>{\n        // RTC Peer Connection 생성\n        const connection = new RTCPeerConnection(ICE_SERVERS);\n        //icecandidate, track listener 추가\n        connection.onicecandidate = handleICECandidateEvent;\n        connection.ontrack = handleTrackEvent;\n        return connection;\n    };\n    const handleICECandidateEvent = (event)=>{\n        if (event.candidate) {\n            console.log(\"[emit ice-candidate]\");\n            socketRef.current.emit(\"ice-candidate\", event.candidate, roomName);\n        }\n    };\n    const handleTrackEvent = (event)=>{\n        peerVideoRef.current.srcObject = event.streams[0];\n    };\n    //peer로부터 offer를 받았을 때\n    const handleReceivedOffer = async (offer)=>{\n        if (!hostRef.current) {\n            // webRTCConnRef.current = makeConnection();\n            webRTCConnRef.current.addEventListener(\"datachannel\", (event)=>{\n                // console.log(event.channel.label)\n                switch(event.channel.label){\n                    case \"nickname\":\n                        nickNameChannel.current = event.channel;\n                        break;\n                    case \"move\":\n                        moveChannel.current = event.channel;\n                        console.log(peerPosition, \"in handleReceivedOffer\");\n                        if (event.data) setPeerPosition(JSON.parse(event.data));\n                        break;\n                }\n            });\n            userStreamRef.current.getTracks().forEach((track)=>webRTCConnRef.current.addTrack(track, userStreamRef.current));\n            webRTCConnRef.current.setRemoteDescription(offer);\n            const answer = await webRTCConnRef.current.createAnswer();\n            try {\n                webRTCConnRef.current.setLocalDescription(answer);\n                socketRef.current.emit(\"answer\", answer, roomName);\n                console.log(\"[emit answer]\");\n            } catch (e) {\n            // console.log(e);\n            }\n        }\n    };\n    const handleAnswer = (answer)=>{\n        webRTCConnRef.current.setRemoteDescription(answer).catch((err)=>console.log(err));\n    };\n    // 들어오는 \"candidate\"를 RTCIceCandidate로 casting\n    const handlerNewIceCandidateMsg = (incoming)=>{\n        const candidate = new RTCIceCandidate(incoming);\n        webRTCConnRef.current.addIceCandidate(candidate).catch((e)=>console.log(e));\n    };\n    //마이크 셋팅 변경 버튼 클릭 시\n    const changeMicSetting = ()=>{\n        toggleMediaStream(\"audio\", micSetting);\n        setMicSetting((prevSetting)=>!prevSetting);\n    };\n    //카메라 셋팅 변경 버튼 클릭 시\n    const changeCameraSetting = ()=>{\n        toggleMediaStream(\"video\", cameraSetting);\n        setCameraSetting((prevSetting)=>!prevSetting);\n    };\n    //미디어스트리미 옵션 값 변경\n    const toggleMediaStream = (type, state)=>{\n        userStreamRef.current.getTracks().forEach((track)=>{\n            if (track.kind === type) {\n                track.enabled = !state;\n            }\n        });\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \" flex flex-col bg-black h-screen\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"p-10 flex basis-1/4 flex-row\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-row basis-1/2 justify-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-row\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-col grow-0 w-60 box-border border-4 text-white text-center\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                        className: \"w-96\",\n                                        id: \"myface\",\n                                        autoPlay: true,\n                                        playsInline: true,\n                                        ref: userVideoRef\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                        lineNumber: 361,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"flex text-3xl justify-center text-white\",\n                                        children: nickName\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                        lineNumber: 362,\n                                        columnNumber: 15\n                                    }, this),\n                                    [\n                                        ...Array(9)\n                                    ].map((_, i)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PuzzleSegment, {\n                                            i: i,\n                                            videoId: \"myface\",\n                                            peerxy: undefined,\n                                            initx: (Math.random() * 0.6 + 0.2) * windowSize.width / 2,\n                                            inity: (Math.random() * 0.6 + 0.2) * windowSize.height,\n                                            moveChannel: moveChannel.current\n                                        }, i, false, {\n                                            fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                            lineNumber: 365,\n                                            columnNumber: 17\n                                        }, this)),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_Game_rocket__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {}, void 0, false, {\n                                        fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                        lineNumber: 367,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                lineNumber: 360,\n                                columnNumber: 13\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-col basis-1/5 justify-evenly\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                        className: \"mb-5 rounded-full text-center\",\n                                        value: nickName,\n                                        onChange: handleNickName,\n                                        placeholder: \"닉네임을 입력하세요.\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                        lineNumber: 371,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        id: \"muteBtn\",\n                                        onClick: changeMicSetting,\n                                        type: \"button\",\n                                        className: \"box-border height width mb-5 border-4 text-white\",\n                                        children: micSetting ? \"마이크 음소거\" : \"마이크 음소거 해제\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                        lineNumber: 372,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        id: \"cameraBtn\",\n                                        onClick: changeCameraSetting,\n                                        type: \"button\",\n                                        className: \"box-border height width mb-5 border-4 text-white\",\n                                        children: cameraSetting ? \"화면 끄기\" : \"화면 켜기\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                        lineNumber: 375,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: leaveRoom,\n                                        type: \"button\",\n                                        className: \"box-border height width mb-5 border-4 text-white\",\n                                        children: \"Leave\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                        lineNumber: 378,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                        onChange: handleSelect,\n                                        ref: selectRef\n                                    }, void 0, false, {\n                                        fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                        lineNumber: 381,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                lineNumber: 370,\n                                columnNumber: 13\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                        lineNumber: 359,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                    lineNumber: 358,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"flex flex-row basis-1/2 justify-center\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex flex-row\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"flex flex-col grow-0 w-60 box-border border-4 text-white text-center\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"video\", {\n                                    className: \"w-96\",\n                                    id: \"peerface\",\n                                    autoPlay: true,\n                                    playsInline: true,\n                                    ref: peerVideoRef\n                                }, void 0, false, {\n                                    fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                    lineNumber: 395,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                    className: \"flex text-3xl justify-center text-white\",\n                                    children: peerNickName\n                                }, void 0, false, {\n                                    fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                    lineNumber: 396,\n                                    columnNumber: 15\n                                }, this),\n                                [\n                                    ...Array(9)\n                                ].map((_, i)=>{\n                                    // console.log(peerPosition, 'if문에서 찍음');\n                                    if (i === peerPosition.i) {\n                                        // console.log(peerPosition.i, '현재 상대가 움직이고 있는 카드번호');\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PuzzleSegment, {\n                                            i: i,\n                                            videoId: \"peerface\",\n                                            peerxy: {\n                                                peerx: peerPosition.peerx,\n                                                peery: peerPosition.peery\n                                            },\n                                            initx: (Math.random() * 0.6 + 0.2) * windowSize.width / 2,\n                                            inity: (Math.random() * 0.6 + 0.2) * windowSize.height,\n                                            moveChannel: moveChannel.current\n                                        }, i, false, {\n                                            fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                            lineNumber: 402,\n                                            columnNumber: 27\n                                        }, this);\n                                    } else {\n                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(PuzzleSegment, {\n                                            i: i,\n                                            peerxy: undefined,\n                                            videoId: \"peerface\",\n                                            initx: (Math.random() * 0.6 + 0.2) * windowSize.width / 2,\n                                            inity: (Math.random() * 0.6 + 0.2) * windowSize.height,\n                                            moveChannel: moveChannel.current\n                                        }, i, false, {\n                                            fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                                            lineNumber: 405,\n                                            columnNumber: 27\n                                        }, this);\n                                    }\n                                })\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                            lineNumber: 394,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                        lineNumber: 393,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n                    lineNumber: 391,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n            lineNumber: 357,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/Users/hoyeon/DP_IceBreaking/components/WebRTC/WebRTC.tsx\",\n        lineNumber: 356,\n        columnNumber: 5\n    }, this);\n}\n_s(WebRTC, \"OF9iYIdUI4I/YFEO/I9tmy+eXBQ=\", false, function() {\n    return [\n        usehooks_ts__WEBPACK_IMPORTED_MODULE_6__.useWindowSize,\n        _pages_hooks_useSocket__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n        next_router__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c1 = WebRTC;\nvar _c, _c1;\n$RefreshReg$(_c, \"PuzzleSegment\");\n$RefreshReg$(_c1, \"WebRTC\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevExports = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevExports) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports on update so we can compare the boundary\n                // signatures.\n                module.hot.dispose(function (data) {\n                    data.prevExports = currentExports;\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevExports !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevExports !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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V0FBVTs4Q0FBMkM3Rzs7Ozs7O2dDQUV2RDt1Q0FBSW1ILE1BQU07aUNBQUcsQ0FBQ0MsR0FBRyxDQUFDLENBQUNDLEdBQUdqSCxJQUFNO29DQUMzQix5Q0FBeUM7b0NBQ3pDLElBQUlBLE1BQU1GLGFBQWFFLENBQUMsRUFBRTt3Q0FDeEIsc0RBQXNEO3dDQUN0RCxxQkFBUSw4REFBQ2hDOzRDQUFzQmdDLEdBQUdBOzRDQUFHa0gsU0FBUzs0Q0FBWUMsUUFBUTtnREFBRWxILE9BQU9ILGFBQWFHLEtBQUs7Z0RBQUVDLE9BQU9KLGFBQWFJLEtBQUs7NENBQUM7NENBQUdtSCxPQUFPLENBQUNDLEtBQUtDLE1BQU0sS0FBSyxNQUFNLEdBQUUsSUFBSy9JLFdBQVdnSixLQUFLLEdBQUc7NENBQUdDLE9BQU8sQ0FBQ0gsS0FBS0MsTUFBTSxLQUFLLE1BQU0sR0FBRSxJQUFLL0ksV0FBV2tKLE1BQU07NENBQUV4SSxhQUFhQSxZQUFZcUIsT0FBTzsyQ0FBblBQOzs7OztvQ0FDOUIsT0FDSzt3Q0FDSCxxQkFBUSw4REFBQ2hDOzRDQUFzQmdDLEdBQUdBOzRDQUFHbUgsUUFBUUM7NENBQVdGLFNBQVM7NENBQVlHLE9BQU8sQ0FBQ0MsS0FBS0MsTUFBTSxLQUFLLE1BQU0sR0FBRSxJQUFLL0ksV0FBV2dKLEtBQUssR0FBRzs0Q0FBR0MsT0FBTyxDQUFDSCxLQUFLQyxNQUFNLEtBQUssTUFBTSxHQUFFLElBQUsvSSxXQUFXa0osTUFBTTs0Q0FBRXhJLGFBQWFBLFlBQVlxQixPQUFPOzJDQUFwTVA7Ozs7O29DQUM5QixDQUFDO2dDQUNIOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBT2QsQ0FBQztHQTlXdUJ6Qjs7UUFDSFQsc0RBQWFBO1FBRWhDRiw4REFBU0E7UUFDTUwsa0RBQVNBOzs7TUFKRmdCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL2NvbXBvbmVudHMvV2ViUlRDL1dlYlJUQy50c3g/MDM5NyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3QsIHsgbWVtbywgdXNlQ2FsbGJhY2sgfSBmcm9tIFwicmVhY3RcIjtcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L3JvdXRlclwiO1xuaW1wb3J0IHsgaW8gfSBmcm9tIFwic29ja2V0LmlvLWNsaWVudFwiO1xuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQgdXNlU29ja2V0IGZyb20gXCIuLi8uLi9wYWdlcy9ob29rcy91c2VTb2NrZXRcIjtcbmltcG9ydCBkeW5hbWljIGZyb20gXCJuZXh0L2R5bmFtaWNcIjtcbmltcG9ydCB7IHVzZVdpbmRvd1NpemUgfSBmcm9tIFwidXNlaG9va3MtdHNcIjtcbmltcG9ydCBSb2NrZXQgZnJvbSBcIi4uL0dhbWUvcm9ja2V0XCI7XG5cbmNvbnN0IFB1enpsZVNlZ21lbnQgPSBkeW5hbWljKFxuICBpbXBvcnQoJ0AvY29tcG9uZW50cy9HYW1lL1NlZ21lbnQnKSwge1xuICBsb2FkaW5nOiAoKSA9PiAoPGRpdj48L2Rpdj4pLFxuICBzc3I6IGZhbHNlLFxufSxcbik7XG5cbmNvbnN0IElDRV9TRVJWRVJTID0ge1xuICBpY2VTZXJ2ZXJzOiBbXG4gICAge1xuICAgICAgdXJsczogW1xuICAgICAgICBcInN0dW46b3BlbnJlbGF5Lm1ldGVyZWQuY2E6ODBcIixcbiAgICAgICAgXCJzdHVuOnN0dW4ubC5nb29nbGUuY29tOjE5MzAyXCIsXG4gICAgICAgIFwic3R1bjpzdHVuMS5sLmdvb2dsZS5jb206MTkzMDJcIixcbiAgICAgICAgXCJzdHVuOnN0dW4wMS5zaXBwaG9uZS5jb21cIixcbiAgICAgICAgXCJzdHVuOnN0dW4uZWtpZ2EubmV0XCIsXG4gICAgICAgIFwic3R1bjpzdHVuLmZ3ZG5ldC5uZXRcIixcbiAgICAgICAgXCJzdHVuOnN0dW4uaWRlYXNpcC5jb21cIixcbiAgICAgICAgXCJzdHVuOnN0dW4uaXB0ZWwub3JnXCIsXG4gICAgICAgIFwic3R1bjpzdHVuLnJpeHRlbGVjb20uc2VcIixcbiAgICAgICAgXCJzdHVuOnN0dW4uc2NobHVuZC5kZVwiLFxuICAgICAgICBcInN0dW46c3R1bnNlcnZlci5vcmdcIixcbiAgICAgICAgXCJzdHVuOnN0dW4uc29mdGpveXMuY29tXCIsXG4gICAgICAgIFwic3R1bjpzdHVuLnZvaXBhcm91bmQuY29tXCIsXG4gICAgICAgIFwic3R1bjpzdHVuLnZvaXBidXN0ZXIuY29tXCIsXG4gICAgICAgIFwic3R1bjpzdHVuLnZvaXBzdHVudC5jb21cIixcbiAgICAgICAgXCJzdHVuOnN0dW4udm94Z3JhdGlhLm9yZ1wiLFxuICAgICAgICBcInN0dW46c3R1bi54dGVuLmNvbVwiLFxuICAgICAgXSxcbiAgICB9LFxuICBdLFxufTtcblxuaW50ZXJmYWNlIE15Q29uc3RyYWludHMge1xuICBhdWRpbz86IGJvb2xlYW4gfCBNZWRpYVRyYWNrQ29uc3RyYWludHM7XG4gIHZpZGVvPzogYm9vbGVhbiB8IE1lZGlhVHJhY2tDb25zdHJhaW50cztcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gV2ViUlRDKCkge1xuICBjb25zdCB3aW5kb3dTaXplID0gdXNlV2luZG93U2l6ZSgpO1xuXG4gIHVzZVNvY2tldCgpO1xuICBjb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKTtcbiAgLy91c2VSZWbsnYAg7Yq57KCV7Lu07Y+s64SM7Yq47JeQIOygkeq3vO2VoCDsiJgg7J6I64qUIOqwneyytCwg7LSI6riw6rCSIG51bGxcbiAgLy91c2VyUmVmIGhvb2vsnYAg64K067aAIOuNsOydtO2EsOqwgCDrs4Dqsr3rkJjsl4jsnYQg65WMIOuzhOuPhOuhnCDslYzrpqzsp4Ag7JWK7J2MXG4gIGNvbnN0IHVzZXJWaWRlb1JlZiA9IHVzZVJlZjxhbnk+KCk7XG4gIGNvbnN0IHBlZXJWaWRlb1JlZiA9IHVzZVJlZjxhbnk+KCk7XG4gIGNvbnN0IHVzZXJTdHJlYW1SZWYgPSB1c2VSZWY8YW55PigpO1xuICBjb25zdCB3ZWJSVENDb25uUmVmID0gdXNlUmVmPGFueT4oKTtcbiAgY29uc3Qgc29ja2V0UmVmID0gdXNlUmVmPGFueT4oKTtcbiAgY29uc3QgaG9zdFJlZiA9IHVzZVJlZihmYWxzZSk7XG4gIGNvbnN0IHNlbGVjdFJlZiA9IHVzZVJlZjxhbnk+KCk7XG4gIGNvbnN0IG5pY2tOYW1lQ2hhbm5lbCA9IHVzZVJlZjxSVENEYXRhQ2hhbm5lbD4oKTtcbiAgY29uc3QgbW92ZUNoYW5uZWwgPSB1c2VSZWY8UlRDRGF0YUNoYW5uZWw+KCk7XG4gIHZhciByZWNpZXZlZFBvc2l0aW9uID0gdXNlUmVmPEpTT04+KCk7XG5cbiAgLy9TdGF0ZVxuICBjb25zdCBbbWljU2V0dGluZywgc2V0TWljU2V0dGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2NhbWVyYVNldHRpbmcsIHNldENhbWVyYVNldHRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtyb29tTmFtZSwgc2V0Um9vbU5hbWVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtuaWNrTmFtZSwgc2V0Tmlja05hbWVdID0gdXNlU3RhdGUoXCJcIik7XG4gIGNvbnN0IFtwZWVyTmlja05hbWUsIHNldFBlZXJOaWNrTmFtZV0gPSB1c2VTdGF0ZShcIlwiKTtcbiAgY29uc3QgW3BlZXJQb3NpdGlvbiwgc2V0UGVlclBvc2l0aW9uXSA9IHVzZVN0YXRlKHsgaTogMTAwLCBwZWVyeDogMCwgcGVlcnk6IDAgfSk7XG4gIC8v64uJ64Sk7J6EIOyEpOyglVxuICBjb25zdCBoYW5kbGVOaWNrTmFtZSA9IChlOiBSZWFjdC5DaGFuZ2VFdmVudDxIVE1MSW5wdXRFbGVtZW50Pik6IHZvaWQgPT4ge1xuICAgIHNldE5pY2tOYW1lKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgLy8gY29uc29sZS5sb2cobmlja05hbWVDaGFubmVsKTtcblxuICAgIGlmICh0eXBlb2Ygbmlja05hbWVDaGFubmVsLmN1cnJlbnQgIT09IFwidW5kZWZpbmVkXCIgJiYgbmlja05hbWVDaGFubmVsLmN1cnJlbnQubGFiZWwgPT0gXCJuaWNrbmFtZVwiKSB7XG4gICAgICBuaWNrTmFtZUNoYW5uZWwuY3VycmVudC5zZW5kKGUuY3VycmVudFRhcmdldC52YWx1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiW05vIGRhdGEgQ2hhbm5lbF1cIik7XG4gICAgfVxuICB9O1xuXG4gIC8v7IKs7J2065OcIOydtO2Ome2KuOulvCDsiJjtlontlZjquLAg7JyE7ZWcIO2bhVxuICAvL3ZpZGVvUmVm6rCAIGNyZWF0ZSx1cGRhdGUg65CgIOuVjCDsi6TtlonrkJzri6QuIChwcm9wcywgc3RhdGXqsIAg67CU64CUIOuVjCDrp4jri6QgZ2V0VXNlckNhbWVyYe2VqOyImOulvCDtmLjstpztlZzri6QpXG4gIC8vIHVtb3VudCDsi5zsl5Ag7Iuk7ZaJ7ZWY6rOgIOyLtuydgCDtlajsiJjripQgcmV0dXJuIO2VqOyImOulvCDri6zslYTspIDri6RcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICAvLyDshJzrsoQgPC0+IOu4jOudvOyasOyggCDqsIQgc29ja2V0IGlvIO2GteyLoCDsl7DqsrBcblxuICAgIHNvY2tldFJlZi5jdXJyZW50ID0gaW8oKTtcbiAgICAvLyDstIjquLAgcm9vbeydhOydtOumhCDshKTsoJVcbiAgICBzZXRSb29tTmFtZShcIlJvb20xXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiUm9vbU5hbWUgOlwiLCByb29tTmFtZSk7XG4gICAgc29ja2V0UmVmLmN1cnJlbnQub24oXCJjcmVhdGVkXCIsIGhhbmRsZVJvb21DcmVhdGVkKTtcblxuICAgIHNvY2tldFJlZi5jdXJyZW50LmVtaXQoXCJqb2luXCIsIHJvb21OYW1lKTtcbiAgICBzb2NrZXRSZWYuY3VycmVudC5vbihcImpvaW5lZFwiLCBoYW5kbGVSb29tSm9pbmVkKTtcbiAgICAvLyByb29tTmFtZeycvOuhnCByb29t7J2E7J20IOyXhuycvOuptCDshJzrsoTripQgJ2NyZWF0ZWQn66W8IGVtaXTtlZzri6QuXG4gICAgLy8gcm9vbeydhOydtCDrp4zrk6TslrTsoYzqs6AsIOuLpOydjCDsgqzrnozsnbQg7LC46rCA7ZWY66m0IOyEnOuyhOuKlCAncmVhZHkn66W8IGVtaXTtlZzri6QuXG4gICAgc29ja2V0UmVmLmN1cnJlbnQub24oXCJyZWFkeVwiLCBpbml0aWF0ZUNhbGwpO1xuXG4gICAgLy8g7LC46rCA7J6Q6rCAIHJvb23snYTsnYQg65ag64KY66m0ICdsZWF2ZSfrpbwgZW1pdO2VnOuLpC5cbiAgICBzb2NrZXRSZWYuY3VycmVudC5vbihcImxlYXZlXCIsIG9uUGVlckxlYXZlKTtcblxuICAgIC8vcm9vbeydhOydtCDqsIDrk50g7LC87Jy866m0IOyEnOuyhOuKlCAnZnVsbCfsnYQgZW1pdO2VnOuLpC5cbiAgICBzb2NrZXRSZWYuY3VycmVudC5vbihcImZ1bGxcIiwgKCkgPT4ge1xuICAgICAgYWxlcnQoXCLssLjqsIDtlZjroKTripQgcm9vbeydhOydtCDqsIDrk50g7LC87Iq164uI64ukLlwiKTtcbiAgICB9KTtcblxuICAgIC8vIGNsaWVudC0gc2lnbmFsaW5nIHNlcnZlciDqsIQgb2ZmZXIgLCBhbnN3ZXIsIGljZS1jYW5kaWRhdGUg6rO87KCVXG4gICAgc29ja2V0UmVmLmN1cnJlbnQub24oXCJvZmZlclwiLCBoYW5kbGVSZWNlaXZlZE9mZmVyKTtcbiAgICBzb2NrZXRSZWYuY3VycmVudC5vbihcImFuc3dlclwiLCBoYW5kbGVBbnN3ZXIpO1xuICAgIHNvY2tldFJlZi5jdXJyZW50Lm9uKFwiaWNlLWNhbmRpZGF0ZVwiLCBoYW5kbGVyTmV3SWNlQ2FuZGlkYXRlTXNnKTtcblxuICAgIC8vIHVubW1vdW507IucIOyGjOy8k+ydhCDrgYrripTri6RcbiAgICByZXR1cm4gKCkgPT4gc29ja2V0UmVmLmN1cnJlbnQuZGlzY29ubmVjdCgpO1xuICB9LCBbcm9vbU5hbWVdKTtcblxuICBhc3luYyBmdW5jdGlvbiBnZXRDYW1lcmFzKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkZXZpY2VzID0gYXdhaXQgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5lbnVtZXJhdGVEZXZpY2VzKCk7XG4gICAgICBjb25zdCBjYW1lcmFzID0gZGV2aWNlcy5maWx0ZXIoKGRldmljZSkgPT4gZGV2aWNlLmtpbmQgPT09IFwidmlkZW9pbnB1dFwiKTtcbiAgICAgIGNvbnN0IGN1cnJlbnRDYW1lcmEgPSB1c2VyU3RyZWFtUmVmLmN1cnJlbnQuZ2V0VmlkZW9UcmFja3MoKVswXTtcblxuICAgICAgY2FtZXJhcy5mb3JFYWNoKChjYW1lcmEpID0+IHtcbiAgICAgICAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKTtcbiAgICAgICAgb3B0aW9uLnZhbHVlID0gY2FtZXJhLmRldmljZUlkO1xuICAgICAgICBvcHRpb24uaW5uZXJUZXh0ID0gY2FtZXJhLmxhYmVsO1xuXG4gICAgICAgIGlmIChjdXJyZW50Q2FtZXJhLmxhYmVsID09PSBjYW1lcmEubGFiZWwpIHtcbiAgICAgICAgICBvcHRpb24uc2VsZWN0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHNlbGVjdFJlZi5jdXJyZW50LmFwcGVuZENoaWxkKG9wdGlvbik7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZygnZ2V0Q2FtZXJhcyBlcnJvcicsIGUpO1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhhbmRsZVNlbGVjdCA9IChlOiB7IHRhcmdldDogeyB2YWx1ZTogc3RyaW5nIH0gfSk6IHZvaWQgPT4ge1xuICAgIGhhbmRsZUNhbWVyYUNoYW5nZShlLnRhcmdldC52YWx1ZSk7XG4gICAgc2VsZWN0UmVmLmN1cnJlbnQgPSBlLnRhcmdldC52YWx1ZTtcbiAgfTtcblxuICBhc3luYyBmdW5jdGlvbiBoYW5kbGVDYW1lcmFDaGFuZ2Uoc2VsZWN0ZWQ6IHN0cmluZyk6IFByb21pc2U8YW55PiB7XG4gICAgYXdhaXQgZ2V0TWVkaWEoc2VsZWN0ZWQpO1xuICAgIGlmICh3ZWJSVENDb25uUmVmLmN1cnJlbnQpIHtcbiAgICAgIGNvbnN0IHZpZGVvVHJhY2sgPSB1c2VyU3RyZWFtUmVmLmN1cnJlbnQuZ2V0VmlkZW9UcmFja3MoKVswXTtcbiAgICAgIGNvbnN0IHZpZGVvU2VuZGVyID0gd2ViUlRDQ29ublJlZi5jdXJyZW50LmdldFNlbmRlcnMoKS5maW5kKChzZW5kZXIpID0+IHNlbmRlci50cmFjay5raW5kID09PSBcInZpZGVvXCIpO1xuICAgICAgdmlkZW9TZW5kZXIucmVwbGFjZVRyYWNrKHZpZGVvVHJhY2spO1xuICAgIH1cbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGdldE1lZGlhKGRldmljZUlkPzogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgaW5pdGlhbENvbnN0cmFpbnRzOiBNeUNvbnN0cmFpbnRzID0ge1xuICAgICAgYXVkaW86IHRydWUsXG4gICAgICB2aWRlbzogeyBmYWNpbmdNb2RlOiBcInVzZXJcIiB9LFxuICAgIH07XG4gICAgY29uc3QgY2FtZXJhQ29uc3RyYWludHM6IE15Q29uc3RyYWludHMgPSB7XG4gICAgICBhdWRpbzogdHJ1ZSxcbiAgICAgIHZpZGVvOiB7IGRldmljZUlkOiB7IGV4YWN0OiBkZXZpY2VJZCB9IH0sXG4gICAgfTtcblxuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmdldFVzZXJNZWRpYShkZXZpY2VJZCA/IGNhbWVyYUNvbnN0cmFpbnRzIDogaW5pdGlhbENvbnN0cmFpbnRzKTtcbiAgICAgIHVzZXJTdHJlYW1SZWYuY3VycmVudCA9IHN0cmVhbTtcbiAgICAgIHVzZXJWaWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCA9IHN0cmVhbTtcbiAgICAgIHVzZXJWaWRlb1JlZi5jdXJyZW50Lm9ubG9hZGVkbWV0YWRhdGEgPSAoKSA9PiB7XG4gICAgICAgIHVzZXJWaWRlb1JlZi5jdXJyZW50LnBsYXkoKTtcbiAgICAgIH07XG4gICAgICBpZiAoIWRldmljZUlkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiW2dldCBDYW1lcmFzXVwiKTtcbiAgICAgICAgYXdhaXQgZ2V0Q2FtZXJhcygpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKCduYXZpZ2F0b3IgZ2V0VXNlck1lZGlhIGVycm9yJywgZSk7XG4gICAgfVxuICB9XG5cbiAgY29uc3QgaGFuZGxlUm9vbUNyZWF0ZWQgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnNvbGUubG9nKFwiW3Jvb20gY3JlYXRlZF1cIik7XG4gICAgICBob3N0UmVmLmN1cnJlbnQgPSB0cnVlO1xuICAgICAgYXdhaXQgZ2V0TWVkaWEoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZyhlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlUm9vbUpvaW5lZCA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZ2V0TWVkaWEoKTtcbiAgICAgIHNvY2tldFJlZi5jdXJyZW50LmVtaXQoXCJyZWFkeVwiLCByb29tTmFtZSk7XG4gICAgICBjb25zb2xlLmxvZyhcIltlbWl0IHJlYWR5XVwiKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmxvZygnaGFuZGxlUm9vbUpvaW5lZCBlcnJvcicsIGUpO1xuICAgIH1cbiAgfTtcbiAgLy9wZWVy7JmAIOyXsOqysCDsg53shLEg7Iuc7J6RLCBldmVudGxpc3RlbuydhCDtmLjsiqTtirjsl5DshJwg7Iuk7ZaJXG4gIGNvbnN0IGluaXRpYXRlQ2FsbCA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBjb25zb2xlLmxvZyhcIltpbml0aWF0ZUNhbGxdXCIpO1xuICAgIGlmIChob3N0UmVmLmN1cnJlbnQpIHtcbiAgICAgIHdlYlJUQ0Nvbm5SZWYuY3VycmVudCA9IG1ha2VDb25uZWN0aW9uKCk7XG4gICAgICB1c2VyU3RyZWFtUmVmLmN1cnJlbnQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHdlYlJUQ0Nvbm5SZWYuY3VycmVudC5hZGRUcmFjayh0cmFjaywgdXNlclN0cmVhbVJlZi5jdXJyZW50KSk7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIltlbWl0IG9mZmVyXVwiKTtcbiAgICAgICAgLy9EYXRhQ2hhbm5lbCBjcmVhdGUgYW5kIGxhYmVsIHNldHRpbmdcbiAgICAgICAgbmlja05hbWVDaGFubmVsLmN1cnJlbnQgPSB3ZWJSVENDb25uUmVmLmN1cnJlbnQuY3JlYXRlRGF0YUNoYW5uZWwoXCJuaWNrbmFtZVwiKTtcbiAgICAgICAgbW92ZUNoYW5uZWwuY3VycmVudCA9IHdlYlJUQ0Nvbm5SZWYuY3VycmVudC5jcmVhdGVEYXRhQ2hhbm5lbChcIm1vdmVcIik7XG5cbiAgICAgICAgLy9DbGllbnQgQiAtPiBDbGllbnQgQSAgbWVzc2FnZVxuICAgICAgICBuaWNrTmFtZUNoYW5uZWwuY3VycmVudC5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAvLyBzZXRQZWVyTmlja05hbWUoZXZlbnQuZGF0YSk7XG4gICAgICAgICAgLy8gY29uc29sZS5sb2coSlNPTi5wYXJzZShldmVudC5kYXRhKSk7XG4gICAgICAgIH0pO1xuICAgICAgICBtb3ZlQ2hhbm5lbC5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChldmVudCkgPT4ge1xuICAgICAgICAgIC8vIHJlY2lldmVkUG9zaXRpb24gPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICAgIGlmIChldmVudC5kYXRhKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhldmVudC5kYXRhLCAnaW4gaW5pdGlhdGVDYWxsJylcbiAgICAgICAgICAgIHNldFBlZXJQb3NpdGlvbihKU09OLnBhcnNlKGV2ZW50LmRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgY29uc3Qgb2ZmZXIgPSBhd2FpdCB3ZWJSVENDb25uUmVmLmN1cnJlbnQuY3JlYXRlT2ZmZXIoKTtcbiAgICAgICAgd2ViUlRDQ29ublJlZi5jdXJyZW50LnNldExvY2FsRGVzY3JpcHRpb24ob2ZmZXIpO1xuICAgICAgICBzb2NrZXRSZWYuY3VycmVudC5lbWl0KFwib2ZmZXJcIiwgb2ZmZXIsIHJvb21OYW1lKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2luaXRpYWxDYWxsIGVycm9yJywgZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IG9uUGVlckxlYXZlID0gKCk6IHZvaWQgPT4ge1xuICAgIC8vcm9vbeydhOyXkCDtmLzsnpAg64Ko7JWEIOyeiOydhCDqsr3smrAsIOuCqOyVhCDsnojripQg7IKs656M7J20IHJvb23snYTsnZgg7KO87J247J20IOuQqFxuICAgIGhvc3RSZWYuY3VycmVudCA9IHRydWU7XG4gICAgaWYgKHBlZXJWaWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCkge1xuICAgICAgLy8gcGVlcuydmCDrqqjrk6AgdHJhY2sg7IiY7Iug7J2EIOykkeyngFxuICAgICAgcGVlclZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0LmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB0cmFjay5zdG9wKCkpO1xuICAgIH1cblxuICAgIC8vIGxlYXZlIO2VnCBwZWVy7JmAIOyXsOqysOydhCDsooXro4xcbiAgICBpZiAod2ViUlRDQ29ublJlZi5jdXJyZW50KSB7XG4gICAgICB3ZWJSVENDb25uUmVmLmN1cnJlbnQub250cmFjayA9IG51bGw7XG4gICAgICB3ZWJSVENDb25uUmVmLmN1cnJlbnQub25pY2VjYW5kaWRhdGUgPSBudWxsO1xuICAgICAgd2ViUlRDQ29ublJlZi5jdXJyZW50LmNsb3NlKCk7XG4gICAgICB3ZWJSVENDb25uUmVmLmN1cnJlbnQgPSBudWxsO1xuICAgIH1cbiAgfTtcbiAgLy9yb29t7J2EIOuWoOuCoCDrlYxcbiAgY29uc3QgbGVhdmVSb29tID0gKCk6IHZvaWQgPT4ge1xuICAgIHNvY2tldFJlZi5jdXJyZW50LmVtaXQoXCJsZWF2ZVwiLCByb29tTmFtZSk7XG4gICAgY29uc29sZS5sb2coXCJbZW1pdCBsZWF2ZV1cIik7XG4gICAgLy/snKDsoIDsmYAgcGVlciDrqqjrk6AgbWVkaWEg7IiY7Iug7J2EIOykkeyngFxuICAgIGlmICh1c2VyVmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QpIHtcbiAgICAgIHVzZXJWaWRlb1JlZi5jdXJyZW50LnNyY09iamVjdC5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4gdHJhY2suc3RvcCgpKTtcbiAgICB9XG4gICAgaWYgKHBlZXJWaWRlb1JlZi5jdXJyZW50LnNyY09iamVjdCkge1xuICAgICAgcGVlclZpZGVvUmVmLmN1cnJlbnQuc3JjT2JqZWN0LmdldFRyYWNrcygpLmZvckVhY2goKHRyYWNrKSA9PiB0cmFjay5zdG9wKCkpO1xuICAgIH1cblxuICAgIC8vY29ubmVjdOydtCDsnojripTsp4Ag7ZmV7J247ZWY6rOgIO2UvOyWtOyZgCDquLDsobQg7Jew6rKw7J2EIOyiheujjFxuICAgIGlmICh3ZWJSVENDb25uUmVmLmN1cnJlbnQpIHtcbiAgICAgIHdlYlJUQ0Nvbm5SZWYuY3VycmVudC5vbnRyYWNrID0gbnVsbDtcbiAgICAgIHdlYlJUQ0Nvbm5SZWYuY3VycmVudC5vbmljZWNhbmRpZGF0ZSA9IG51bGw7XG4gICAgICB3ZWJSVENDb25uUmVmLmN1cnJlbnQuY2xvc2UoKTtcbiAgICAgIHdlYlJUQ0Nvbm5SZWYuY3VycmVudCA9IG51bGw7XG4gICAgfVxuICAgIHJvdXRlci5wdXNoKFwiL1wiKTtcbiAgfTtcblxuICBjb25zdCBtYWtlQ29ubmVjdGlvbiA9ICgpOiBSVENQZWVyQ29ubmVjdGlvbiA9PiB7XG4gICAgLy8gUlRDIFBlZXIgQ29ubmVjdGlvbiDsg53shLFcbiAgICBjb25zdCBjb25uZWN0aW9uID0gbmV3IFJUQ1BlZXJDb25uZWN0aW9uKElDRV9TRVJWRVJTKTtcbiAgICAvL2ljZWNhbmRpZGF0ZSwgdHJhY2sgbGlzdGVuZXIg7LaU6rCAXG4gICAgY29ubmVjdGlvbi5vbmljZWNhbmRpZGF0ZSA9IGhhbmRsZUlDRUNhbmRpZGF0ZUV2ZW50O1xuICAgIGNvbm5lY3Rpb24ub250cmFjayA9IGhhbmRsZVRyYWNrRXZlbnQ7XG4gICAgcmV0dXJuIGNvbm5lY3Rpb247XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlSUNFQ2FuZGlkYXRlRXZlbnQgPSAoZXZlbnQ6IFJUQ1BlZXJDb25uZWN0aW9uSWNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZlbnQuY2FuZGlkYXRlKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIltlbWl0IGljZS1jYW5kaWRhdGVdXCIpO1xuICAgICAgc29ja2V0UmVmLmN1cnJlbnQuZW1pdChcImljZS1jYW5kaWRhdGVcIiwgZXZlbnQuY2FuZGlkYXRlLCByb29tTmFtZSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZVRyYWNrRXZlbnQgPSAoZXZlbnQ6IFJUQ1RyYWNrRXZlbnQpOiB2b2lkID0+IHtcbiAgICBwZWVyVmlkZW9SZWYuY3VycmVudC5zcmNPYmplY3QgPSBldmVudC5zdHJlYW1zWzBdO1xuICB9O1xuICAvL3BlZXLroZzrtoDthLAgb2ZmZXLrpbwg67Cb7JWY7J2EIOuVjFxuICBjb25zdCBoYW5kbGVSZWNlaXZlZE9mZmVyID0gYXN5bmMgKG9mZmVyOiBhbnlbXSk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGlmICghaG9zdFJlZi5jdXJyZW50KSB7XG4gICAgICAvLyB3ZWJSVENDb25uUmVmLmN1cnJlbnQgPSBtYWtlQ29ubmVjdGlvbigpO1xuICAgICAgd2ViUlRDQ29ublJlZi5jdXJyZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJkYXRhY2hhbm5lbFwiLCAoZXZlbnQ6IGFueSkgPT4ge1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhldmVudC5jaGFubmVsLmxhYmVsKVxuICAgICAgICBzd2l0Y2ggKGV2ZW50LmNoYW5uZWwubGFiZWwpIHtcbiAgICAgICAgICBjYXNlIFwibmlja25hbWVcIjpcbiAgICAgICAgICAgIG5pY2tOYW1lQ2hhbm5lbC5jdXJyZW50ID0gZXZlbnQuY2hhbm5lbDtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIGNhc2UgXCJtb3ZlXCI6XG4gICAgICAgICAgICBtb3ZlQ2hhbm5lbC5jdXJyZW50ID0gZXZlbnQuY2hhbm5lbDtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBlZXJQb3NpdGlvbiwgJ2luIGhhbmRsZVJlY2VpdmVkT2ZmZXInKVxuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGEpXG4gICAgICAgICAgICAgIHNldFBlZXJQb3NpdGlvbihKU09OLnBhcnNlKGV2ZW50LmRhdGEpKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICB1c2VyU3RyZWFtUmVmLmN1cnJlbnQuZ2V0VHJhY2tzKCkuZm9yRWFjaCgodHJhY2spID0+IHdlYlJUQ0Nvbm5SZWYuY3VycmVudC5hZGRUcmFjayh0cmFjaywgdXNlclN0cmVhbVJlZi5jdXJyZW50KSk7XG4gICAgICB3ZWJSVENDb25uUmVmLmN1cnJlbnQuc2V0UmVtb3RlRGVzY3JpcHRpb24ob2ZmZXIpO1xuXG4gICAgICBjb25zdCBhbnN3ZXIgPSBhd2FpdCB3ZWJSVENDb25uUmVmLmN1cnJlbnQuY3JlYXRlQW5zd2VyKCk7XG5cbiAgICAgIHRyeSB7XG4gICAgICAgIHdlYlJUQ0Nvbm5SZWYuY3VycmVudC5zZXRMb2NhbERlc2NyaXB0aW9uKGFuc3dlcik7XG4gICAgICAgIHNvY2tldFJlZi5jdXJyZW50LmVtaXQoXCJhbnN3ZXJcIiwgYW5zd2VyLCByb29tTmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiW2VtaXQgYW5zd2VyXVwiKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgLy8gY29uc29sZS5sb2coZSk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGhhbmRsZUFuc3dlciA9IChhbnN3ZXIpID0+IHtcbiAgICB3ZWJSVENDb25uUmVmLmN1cnJlbnQuc2V0UmVtb3RlRGVzY3JpcHRpb24oYW5zd2VyKS5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmxvZyhlcnIpKTtcbiAgfTtcblxuICAvLyDrk6TslrTsmKTripQgXCJjYW5kaWRhdGVcIuulvCBSVENJY2VDYW5kaWRhdGXroZwgY2FzdGluZ1xuICBjb25zdCBoYW5kbGVyTmV3SWNlQ2FuZGlkYXRlTXNnID0gKGluY29taW5nOiBSVENJY2VDYW5kaWRhdGUpOiB2b2lkID0+IHtcbiAgICBjb25zdCBjYW5kaWRhdGUgPSBuZXcgUlRDSWNlQ2FuZGlkYXRlKGluY29taW5nKTtcbiAgICB3ZWJSVENDb25uUmVmLmN1cnJlbnQuYWRkSWNlQ2FuZGlkYXRlKGNhbmRpZGF0ZSkuY2F0Y2goKGUpID0+IGNvbnNvbGUubG9nKGUpKTtcbiAgfTtcblxuICAvL+uniOydtO2BrCDshYvtjIUg67OA6rK9IOuyhO2KvCDtgbTrpq0g7IucXG4gIGNvbnN0IGNoYW5nZU1pY1NldHRpbmcgPSAoKTogdm9pZCA9PiB7XG4gICAgdG9nZ2xlTWVkaWFTdHJlYW0oXCJhdWRpb1wiLCBtaWNTZXR0aW5nKTtcbiAgICBzZXRNaWNTZXR0aW5nKChwcmV2U2V0dGluZykgPT4gIXByZXZTZXR0aW5nKTtcbiAgfTtcbiAgLy/subTrqZTrnbwg7IWL7YyFIOuzgOqyvSDrsoTtirwg7YG066atIOyLnFxuICBjb25zdCBjaGFuZ2VDYW1lcmFTZXR0aW5nID0gKCk6IHZvaWQgPT4ge1xuICAgIHRvZ2dsZU1lZGlhU3RyZWFtKFwidmlkZW9cIiwgY2FtZXJhU2V0dGluZyk7XG4gICAgc2V0Q2FtZXJhU2V0dGluZygocHJldlNldHRpbmcpID0+ICFwcmV2U2V0dGluZyk7XG4gIH07XG5cbiAgLy/rr7jrlJTslrTsiqTtirjrpqzrr7gg7Ji17IWYIOqwkiDrs4Dqsr1cbiAgY29uc3QgdG9nZ2xlTWVkaWFTdHJlYW0gPSAodHlwZTogc3RyaW5nLCBzdGF0ZTogYm9vbGVhbik6IHZvaWQgPT4ge1xuICAgIHVzZXJTdHJlYW1SZWYuY3VycmVudC5nZXRUcmFja3MoKS5mb3JFYWNoKCh0cmFjaykgPT4ge1xuICAgICAgaWYgKHRyYWNrLmtpbmQgPT09IHR5cGUpIHtcbiAgICAgICAgdHJhY2suZW5hYmxlZCA9ICFzdGF0ZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiIGZsZXggZmxleC1jb2wgYmctYmxhY2sgaC1zY3JlZW5cIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwicC0xMCBmbGV4IGJhc2lzLTEvNCBmbGV4LXJvd1wiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1yb3cgYmFzaXMtMS8yIGp1c3RpZnktY2VudGVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ3Jvdy0wIHctNjAgYm94LWJvcmRlciBib3JkZXItNCB0ZXh0LXdoaXRlIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDx2aWRlbyBjbGFzc05hbWU9XCJ3LTk2XCIgaWQ9XCJteWZhY2VcIiBhdXRvUGxheSBwbGF5c0lubGluZSByZWY9e3VzZXJWaWRlb1JlZn0+PC92aWRlbz5cbiAgICAgICAgICAgICAgPHAgY2xhc3NOYW1lPVwiZmxleCB0ZXh0LTN4bCBqdXN0aWZ5LWNlbnRlciB0ZXh0LXdoaXRlXCI+e25pY2tOYW1lfTwvcD5cblxuICAgICAgICAgICAgICB7Wy4uLkFycmF5KDkpXS5tYXAoKF8sIGkpID0+IChcbiAgICAgICAgICAgICAgICA8UHV6emxlU2VnbWVudCBrZXk9e2l9IGk9e2l9IHZpZGVvSWQ9eydteWZhY2UnfSBwZWVyeHk9e3VuZGVmaW5lZH0gaW5pdHg9eyhNYXRoLnJhbmRvbSgpICogMC42ICsgMC4yKSAqIHdpbmRvd1NpemUud2lkdGggLyAyfSBpbml0eT17KE1hdGgucmFuZG9tKCkgKiAwLjYgKyAwLjIpICogd2luZG93U2l6ZS5oZWlnaHR9IG1vdmVDaGFubmVsPXttb3ZlQ2hhbm5lbC5jdXJyZW50fSAvPlxuICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPFJvY2tldCAvPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBiYXNpcy0xLzUganVzdGlmeS1ldmVubHlcIj5cbiAgICAgICAgICAgICAgPGlucHV0IGNsYXNzTmFtZT1cIm1iLTUgcm91bmRlZC1mdWxsIHRleHQtY2VudGVyXCIgdmFsdWU9e25pY2tOYW1lfSBvbkNoYW5nZT17aGFuZGxlTmlja05hbWV9IHBsYWNlaG9sZGVyPVwi64uJ64Sk7J6E7J2EIOyeheugpe2VmOyEuOyalC5cIiAvPlxuICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwibXV0ZUJ0blwiIG9uQ2xpY2s9e2NoYW5nZU1pY1NldHRpbmd9IHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJib3gtYm9yZGVyIGhlaWdodCB3aWR0aCBtYi01IGJvcmRlci00IHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICB7bWljU2V0dGluZyA/IFwi66eI7J207YGsIOydjOyGjOqxsFwiIDogXCLrp4jsnbTtgawg7J2M7IaM6rGwIO2VtOygnFwifVxuICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNhbWVyYUJ0blwiIG9uQ2xpY2s9e2NoYW5nZUNhbWVyYVNldHRpbmd9IHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJib3gtYm9yZGVyIGhlaWdodCB3aWR0aCBtYi01IGJvcmRlci00IHRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICB7Y2FtZXJhU2V0dGluZyA/IFwi7ZmU66m0IOuBhOq4sFwiIDogXCLtmZTrqbQg7Lyc6riwXCJ9XG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8YnV0dG9uIG9uQ2xpY2s9e2xlYXZlUm9vbX0gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJveC1ib3JkZXIgaGVpZ2h0IHdpZHRoIG1iLTUgYm9yZGVyLTQgdGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgIExlYXZlXG4gICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICA8c2VsZWN0IG9uQ2hhbmdlPXtoYW5kbGVTZWxlY3R9IHJlZj17c2VsZWN0UmVmfT48L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPC9kaXY+XG5cblxuXG4gICAgICAgIDwvZGl2PlxuXG5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtcm93IGJhc2lzLTEvMiBqdXN0aWZ5LWNlbnRlclwiPlxuXG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtcm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgZ3Jvdy0wIHctNjAgYm94LWJvcmRlciBib3JkZXItNCB0ZXh0LXdoaXRlIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgIDx2aWRlbyBjbGFzc05hbWU9XCJ3LTk2XCIgaWQ9XCJwZWVyZmFjZVwiIGF1dG9QbGF5IHBsYXlzSW5saW5lIHJlZj17cGVlclZpZGVvUmVmfT48L3ZpZGVvPlxuICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJmbGV4IHRleHQtM3hsIGp1c3RpZnktY2VudGVyIHRleHQtd2hpdGVcIj57cGVlck5pY2tOYW1lfTwvcD5cblxuICAgICAgICAgICAgICB7Wy4uLkFycmF5KDkpXS5tYXAoKF8sIGkpID0+IHtcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhwZWVyUG9zaXRpb24sICdpZuusuOyXkOyEnCDssI3snYwnKTtcbiAgICAgICAgICAgICAgICBpZiAoaSA9PT0gcGVlclBvc2l0aW9uLmkpIHtcbiAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHBlZXJQb3NpdGlvbi5pLCAn7ZiE7J6sIOyDgeuMgOqwgCDsm4Dsp4HsnbTqs6Ag7J6I64qUIOy5tOuTnOuyiO2YuCcpO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuICg8UHV6emxlU2VnbWVudCBrZXk9e2l9IGk9e2l9IHZpZGVvSWQ9eydwZWVyZmFjZSd9IHBlZXJ4eT17eyBwZWVyeDogcGVlclBvc2l0aW9uLnBlZXJ4LCBwZWVyeTogcGVlclBvc2l0aW9uLnBlZXJ5IH19IGluaXR4PXsoTWF0aC5yYW5kb20oKSAqIDAuNiArIDAuMikgKiB3aW5kb3dTaXplLndpZHRoIC8gMn0gaW5pdHk9eyhNYXRoLnJhbmRvbSgpICogMC42ICsgMC4yKSAqIHdpbmRvd1NpemUuaGVpZ2h0fSBtb3ZlQ2hhbm5lbD17bW92ZUNoYW5uZWwuY3VycmVudH0gLz4pXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuICg8UHV6emxlU2VnbWVudCBrZXk9e2l9IGk9e2l9IHBlZXJ4eT17dW5kZWZpbmVkfSB2aWRlb0lkPXsncGVlcmZhY2UnfSBpbml0eD17KE1hdGgucmFuZG9tKCkgKiAwLjYgKyAwLjIpICogd2luZG93U2l6ZS53aWR0aCAvIDJ9IGluaXR5PXsoTWF0aC5yYW5kb20oKSAqIDAuNiArIDAuMikgKiB3aW5kb3dTaXplLmhlaWdodH0gbW92ZUNoYW5uZWw9e21vdmVDaGFubmVsLmN1cnJlbnR9IC8+KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKTtcbn0iXSwibmFtZXMiOlsiUmVhY3QiLCJ1c2VSb3V0ZXIiLCJpbyIsInVzZUVmZmVjdCIsInVzZVJlZiIsInVzZVN0YXRlIiwidXNlU29ja2V0IiwiZHluYW1pYyIsInVzZVdpbmRvd1NpemUiLCJSb2NrZXQiLCJQdXp6bGVTZWdtZW50IiwibG9hZGluZyIsImRpdiIsInNzciIsIklDRV9TRVJWRVJTIiwiaWNlU2VydmVycyIsInVybHMiLCJXZWJSVEMiLCJ3aW5kb3dTaXplIiwicm91dGVyIiwidXNlclZpZGVvUmVmIiwicGVlclZpZGVvUmVmIiwidXNlclN0cmVhbVJlZiIsIndlYlJUQ0Nvbm5SZWYiLCJzb2NrZXRSZWYiLCJob3N0UmVmIiwic2VsZWN0UmVmIiwibmlja05hbWVDaGFubmVsIiwibW92ZUNoYW5uZWwiLCJyZWNpZXZlZFBvc2l0aW9uIiwibWljU2V0dGluZyIsInNldE1pY1NldHRpbmciLCJjYW1lcmFTZXR0aW5nIiwic2V0Q2FtZXJhU2V0dGluZyIsInJvb21OYW1lIiwic2V0Um9vbU5hbWUiLCJuaWNrTmFtZSIsInNldE5pY2tOYW1lIiwicGVlck5pY2tOYW1lIiwic2V0UGVlck5pY2tOYW1lIiwicGVlclBvc2l0aW9uIiwic2V0UGVlclBvc2l0aW9uIiwiaSIsInBlZXJ4IiwicGVlcnkiLCJoYW5kbGVOaWNrTmFtZSIsImUiLCJjdXJyZW50VGFyZ2V0IiwidmFsdWUiLCJjdXJyZW50IiwibGFiZWwiLCJzZW5kIiwiY29uc29sZSIsImxvZyIsIm9uIiwiaGFuZGxlUm9vbUNyZWF0ZWQiLCJlbWl0IiwiaGFuZGxlUm9vbUpvaW5lZCIsImluaXRpYXRlQ2FsbCIsIm9uUGVlckxlYXZlIiwiYWxlcnQiLCJoYW5kbGVSZWNlaXZlZE9mZmVyIiwiaGFuZGxlQW5zd2VyIiwiaGFuZGxlck5ld0ljZUNhbmRpZGF0ZU1zZyIsImRpc2Nvbm5lY3QiLCJnZXRDYW1lcmFzIiwiZGV2aWNlcyIsIm5hdmlnYXRvciIsIm1lZGlhRGV2aWNlcyIsImVudW1lcmF0ZURldmljZXMiLCJjYW1lcmFzIiwiZmlsdGVyIiwiZGV2aWNlIiwia2luZCIsImN1cnJlbnRDYW1lcmEiLCJnZXRWaWRlb1RyYWNrcyIsImZvckVhY2giLCJjYW1lcmEiLCJvcHRpb24iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJkZXZpY2VJZCIsImlubmVyVGV4dCIsInNlbGVjdGVkIiwiYXBwZW5kQ2hpbGQiLCJoYW5kbGVTZWxlY3QiLCJoYW5kbGVDYW1lcmFDaGFuZ2UiLCJ0YXJnZXQiLCJnZXRNZWRpYSIsInZpZGVvVHJhY2siLCJ2aWRlb1NlbmRlciIsImdldFNlbmRlcnMiLCJmaW5kIiwic2VuZGVyIiwidHJhY2siLCJyZXBsYWNlVHJhY2siLCJpbml0aWFsQ29uc3RyYWludHMiLCJhdWRpbyIsInZpZGVvIiwiZmFjaW5nTW9kZSIsImNhbWVyYUNvbnN0cmFpbnRzIiwiZXhhY3QiLCJzdHJlYW0iLCJnZXRVc2VyTWVkaWEiLCJzcmNPYmplY3QiLCJvbmxvYWRlZG1ldGFkYXRhIiwicGxheSIsIm1ha2VDb25uZWN0aW9uIiwiZ2V0VHJhY2tzIiwiYWRkVHJhY2siLCJjcmVhdGVEYXRhQ2hhbm5lbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJldmVudCIsImRhdGEiLCJKU09OIiwicGFyc2UiLCJvZmZlciIsImNyZWF0ZU9mZmVyIiwic2V0TG9jYWxEZXNjcmlwdGlvbiIsInN0b3AiLCJvbnRyYWNrIiwib25pY2VjYW5kaWRhdGUiLCJjbG9zZSIsImxlYXZlUm9vbSIsInB1c2giLCJjb25uZWN0aW9uIiwiUlRDUGVlckNvbm5lY3Rpb24iLCJoYW5kbGVJQ0VDYW5kaWRhdGVFdmVudCIsImhhbmRsZVRyYWNrRXZlbnQiLCJjYW5kaWRhdGUiLCJzdHJlYW1zIiwiY2hhbm5lbCIsInNldFJlbW90ZURlc2NyaXB0aW9uIiwiYW5zd2VyIiwiY3JlYXRlQW5zd2VyIiwiY2F0Y2giLCJlcnIiLCJpbmNvbWluZyIsIlJUQ0ljZUNhbmRpZGF0ZSIsImFkZEljZUNhbmRpZGF0ZSIsImNoYW5nZU1pY1NldHRpbmciLCJ0b2dnbGVNZWRpYVN0cmVhbSIsInByZXZTZXR0aW5nIiwiY2hhbmdlQ2FtZXJhU2V0dGluZyIsInR5cGUiLCJzdGF0ZSIsImVuYWJsZWQiLCJjbGFzc05hbWUiLCJpZCIsImF1dG9QbGF5IiwicGxheXNJbmxpbmUiLCJyZWYiLCJwIiwiQXJyYXkiLCJtYXAiLCJfIiwidmlkZW9JZCIsInBlZXJ4eSIsInVuZGVmaW5lZCIsImluaXR4IiwiTWF0aCIsInJhbmRvbSIsIndpZHRoIiwiaW5pdHkiLCJoZWlnaHQiLCJpbnB1dCIsIm9uQ2hhbmdlIiwicGxhY2Vob2xkZXIiLCJidXR0b24iLCJvbkNsaWNrIiwic2VsZWN0Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./components/WebRTC/WebRTC.tsx\n"));

/***/ })

});